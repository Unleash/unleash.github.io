"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[2490],{95563:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>m});var n=a(87462),r=(a(67294),a(3905));const i={id:"custom_activation_strategy",title:"Custom Activation Strategies"},o=void 0,s={unversionedId:"advanced/custom_activation_strategy",id:"advanced/custom_activation_strategy",title:"Custom Activation Strategies",description:"This document is a reference for custom activation strategies. If you're looking for a guide on how to use them, see the how to use custom strategies guide.",source:"@site/docs/advanced/custom-activation-strategy.md",sourceDirName:"advanced",slug:"/advanced/custom_activation_strategy",permalink:"/advanced/custom_activation_strategy",draft:!1,editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/advanced/custom-activation-strategy.md",tags:[],version:"current",frontMatter:{id:"custom_activation_strategy",title:"Custom Activation Strategies"},sidebar:"documentation",previous:{title:"Impression data",permalink:"/advanced/impression-data"},next:{title:"Environments",permalink:"/user_guide/environments"}},l={},m=[{value:"Definition",id:"definition",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Parameter types",id:"parameter-types",level:4},{value:"Implementation",id:"implementation",level:2}],p={toc:m};function d(t){let{components:e,...i}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,i,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"This document is a reference for custom activation strategies. If you're looking for a guide on how to use them, see the ",(0,r.kt)("a",{parentName:"p",href:"/how-to/how-to-use-custom-strategies"},(0,r.kt)("em",{parentName:"a"},"how to use custom strategies")," guide"),".")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Custom activation strategies")," let you define your own activation strategies to use with Unleash. When the ",(0,r.kt)("a",{parentName:"p",href:"/user_guide/activation_strategy"},"built-in activation strategies")," aren't enough, custom activation strategies are there to provide you with the flexibility you need."),(0,r.kt)("p",null,"Custom activation strategies work exactly like the built-in activation strategies when working in the admin UI."),(0,r.kt)("h2",{id:"definition"},"Definition"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"A strategy creation form. It has fields labeled &quot;strategy name&quot; \u2014 &quot;TimeStamp&quot; \u2014 and &quot;description&quot; \u2014 &quot;activate toggle after a given timestamp&quot;. It also has fields for a parameter named &quot;enableAfter&quot;. The parameter is of type &quot;string&quot; and the parameter description is &quot;Expected format: YYYY-MM-DD HH:MM&quot;. The parameter is required.",src:a(45056).Z,width:"1366",height:"847"})),(0,r.kt)("p",null,"You define custom activation strategies on your Unleash instance, either via the admin UI or via the API. A strategy contains:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A strategy ",(0,r.kt)("strong",{parentName:"li"},"name"),": You'll use this to refer to the strategy in the UI and in code. The strategy name should make it easy to understand what the strategy does. For instance, if a strategy uses contact numbers to determine whether a feature should be enabled, then ",(0,r.kt)("em",{parentName:"li"},"ContactNumbers")," would be a good name."),(0,r.kt)("li",{parentName:"ul"},"An optional ",(0,r.kt)("strong",{parentName:"li"},"description"),": Use this to describe what the strategy should do."),(0,r.kt)("li",{parentName:"ul"},"An optional list of ",(0,r.kt)("strong",{parentName:"li"},"parameters"),": The parameter list lets you pass arguments to your custom activation strategy. These will be made available to your custom strategy implementation. How you interact with them differs between SDKs, but refer to the ",(0,r.kt)("a",{parentName:"li",href:"/how-to/how-to-use-custom-strategies"},"Node.js example in the how-to guide")," for a rough idea.")),(0,r.kt)("p",null,"The strategy ",(0,r.kt)("strong",{parentName:"p"},"name")," is the only required parameter, but adding a good ",(0,r.kt)("strong",{parentName:"p"},"description")," will make it easier to remember what a strategy should do. The list of ",(0,r.kt)("strong",{parentName:"p"},"parameters")," lets you pass data from the Unleash instance to the strategy implementation."),(0,r.kt)("h3",{id:"parameters"},"Parameters"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"A strategy with five parameters, one of each type.",src:a(67463).Z,width:"1366",height:"1167"})),(0,r.kt)("p",null,"Parameters let you provide arguments to your strategy that it can access for evaluation. When creating a strategy, each parameter can be either required or optional. This marking is to help the user understand what they need to fill out; they can still save the strategy without filling out a required field."),(0,r.kt)("p",null,"Each parameter consists of three parts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"a ",(0,r.kt)("strong",{parentName:"li"},"name"),": must be unique among the strategy's parameters."),(0,r.kt)("li",{parentName:"ul"},"an optional ",(0,r.kt)("strong",{parentName:"li"},"description"),": describe the purpose or format of the parameter."),(0,r.kt)("li",{parentName:"ul"},"a parameter ",(0,r.kt)("strong",{parentName:"li"},"type"),": dictates the kind of input field the user will see in the admin UI and the type of the value in the implementation code.")),(0,r.kt)("h4",{id:"parameter-types"},"Parameter types"),(0,r.kt)("p",null,"Each parameter has one of five different parameter types. A parameter's type impacts the kind of controls shown in the admin UI and how it's represented in code."),(0,r.kt)("p",null,"The below table lists the types and how they're represented in the JSON payload returned from the Unleash server. When parsed, the exact types will vary based on your programming language's type system."),(0,r.kt)("p",null,"All values have an ",(0,r.kt)("strong",{parentName:"p"},"empty string (",(0,r.kt)("inlineCode",{parentName:"strong"},'""'),") as the default value"),". As such, if you don't interact with a control or otherwise set a value, the value will be an empty string."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"type name"),(0,r.kt)("th",{parentName:"tr",align:null},"code representation"),(0,r.kt)("th",{parentName:"tr",align:null},"example value"),(0,r.kt)("th",{parentName:"tr",align:null},"UI control"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"a string"')),(0,r.kt)("td",{parentName:"tr",align:null},"A standard input field")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"percentage"),(0,r.kt)("td",{parentName:"tr",align:null},"a ",(0,r.kt)("inlineCode",{parentName:"td"},"string")," representing a number between 0 and 100 (inclusive)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"99"')),(0,r.kt)("td",{parentName:"tr",align:null},"A value slider")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"list"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")," (values are comma-separated)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"one,two"')),(0,r.kt)("td",{parentName:"tr",align:null},"A multi-input text field")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"number"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"123"')),(0,r.kt)("td",{parentName:"tr",align:null},"A numeric text field")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"a ",(0,r.kt)("inlineCode",{parentName:"td"},"string"),": one of ",(0,r.kt)("inlineCode",{parentName:"td"},'"true"')," or ",(0,r.kt)("inlineCode",{parentName:"td"},'"false"')),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"true"')),(0,r.kt)("td",{parentName:"tr",align:null},"An on/off toggle")))),(0,r.kt)("h2",{id:"implementation"},"Implementation"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If you have not implemented the strategy in your client SDK, the check will always return ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," because the client doesn't recognize the strategy.")),(0,r.kt)("p",null,"While custom strategies are ",(0,r.kt)("em",{parentName:"p"},"defined")," on the Unleash server, they must be ",(0,r.kt)("em",{parentName:"p"},"implemented")," on the client. All official Unleash client SDKs provide a way for you to implement custom strategies. You should refer to the individual SDK's documentation for specifics, but for an example, you can have a look at the ",(0,r.kt)("a",{parentName:"p",href:"/how-to/how-to-use-custom-strategies#step-3-a"},(0,r.kt)("em",{parentName:"a"},"Node.js client implementation")," section in the ",(0,r.kt)("em",{parentName:"a"},"how to use custom strategies")," guide"),"."),(0,r.kt)("p",null,"The exact method for implementing custom strategies will vary between SDKs, but the server SDKs follow the same patterns. For front-end client SDKs (",(0,r.kt)("a",{parentName:"p",href:"/sdks/android_proxy_sdk"},"Android"),", ",(0,r.kt)("a",{parentName:"p",href:"/sdks/proxy-javascript"},"JavaScript"),", ",(0,r.kt)("a",{parentName:"p",href:"/sdks/proxy-react"},"React"),", ",(0,r.kt)("a",{parentName:"p",href:"/sdks/proxy-ios"},"iOS"),"), the custom activation strategy must be implemented in the ",(0,r.kt)("a",{parentName:"p",href:"/sdks/unleash-proxy"},"Unleash Proxy"),"."),(0,r.kt)("p",null,"When implementing a strategy in your client, you will get access to the strategy's parameters and the Unleash Context. Again, refer to your specific SDK's documentation for more details."))}d.isMDXComponent=!0},67463:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/strategy-parameters-ui-controls-d05154f5d1289fdb01763e1614bb6b60.png"},45056:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/timestamp_create_strategy-53b52563d781ddbb241d98eaf21cf359.png"}}]);