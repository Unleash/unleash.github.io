"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[2856],{8215:function(e,t,a){var n=a(7294);t.Z=function(e){var t=e.children,a=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:r},t)}},3580:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(7462),r=a(7294),l=a(2389),o=a(6808),i=a(6010),p="tabItem_LplD";function s(e){var t,a,l,s=e.lazy,u=e.block,d=e.defaultValue,m=e.values,c=e.groupId,g=e.className,h=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=m?m:h.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),v=(0,o.lx)(k,(function(e,t){return e.value===t.value}));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===d?d:null!=(t=null!=d?d:null==(a=h.find((function(e){return e.props.default})))?void 0:a.props.value)?t:null==(l=h[0])?void 0:l.props.value;if(null!==f&&!k.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=(0,o.UB)(),y=N.tabGroupChoices,T=N.setTabGroupChoices,b=(0,r.useState)(f),j=b[0],w=b[1],A=[],E=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=c){var x=y[c];null!=x&&x!==j&&k.some((function(e){return e.value===x}))&&w(x)}var C=function(e){var t=e.currentTarget,a=A.indexOf(t),n=k[a].value;n!==j&&(E(t),w(n),null!=c&&T(c,n))},I=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n=A.indexOf(e.currentTarget)+1;a=A[n]||A[0];break;case"ArrowLeft":var r=A.indexOf(e.currentTarget)-1;a=A[r]||A[A.length-1]}null==(t=a)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":u},g)},k.map((function(e){var t=e.value,a=e.label,l=e.attributes;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:j===t?0:-1,"aria-selected":j===t,key:t,ref:function(e){return A.push(e)},onKeyDown:I,onFocus:C,onClick:C},l,{className:(0,i.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":j===t})}),null!=a?a:t)}))),s?(0,r.cloneElement)(h.filter((function(e){return e.props.value===j}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==j})}))))}function u(e){var t=(0,l.Z)();return r.createElement(s,(0,n.Z)({key:String(t)},e))}},872:function(e,t,a){var n=a(7294),r=a(3580),l=a(8215),o=a(5197);t.Z=function(e){var t=e.verb,a=e.payload,i=e.url,p=e.title,s=e.endpointType,u=void 0===s?"Unleash server API":s,d=(null==t?void 0:t.toUpperCase())||"",m=JSON.stringify(a,null,2),c="Unleash server API"===u?["unleash-url","API-token"]:["proxy-url","proxy-client-key"],g=c[0],h=c[1],k=(a?"\n"+d+" <"+g+">/"+i+"\nAuthorization: <"+h+">\ncontent-type: application/json\n\n"+m:"\n"+d+" <"+g+">/"+i+"\nAuthorization: <"+h+">\ncontent-type: application/json").trim(),v=(a?'\ncurl -H "Content-Type: application/json" \\\n     -H "Authorization: <'+h+'>" \\\n     -X '+d+" \\\n     -d '"+m+"' \\\n     <"+g+">/"+i:'\ncurl -H "Content-Type: application/json" \\\n     -H "Authorization: <'+h+'>" \\\n     -X '+d+" \\\n     <"+g+">/"+i).trim(),f=(a?"echo '"+m+"' \\\n| http "+d+" \\\n  <"+g+">/"+i+" \\\n  Authorization:<"+h+">":("\nhttp "+d+" \\\n  <"+g+">/"+i+" \\\n  Authorization:<"+h+"> \\\n  "+("POST"!==d||m?"":"--json")).trim()).trim();return n.createElement(r.Z,{groupId:"api-request"},n.createElement(l.Z,{value:"http",label:"HTTP"},n.createElement(o.Z,{language:"http",title:p},k)),n.createElement(l.Z,{value:"curl",label:"cURL"},n.createElement(o.Z,{language:"bash",title:p},v)),n.createElement(l.Z,{value:"httpie",label:"HTTPie"},n.createElement(o.Z,{language:"bash",title:p},f)))}},2471:function(e,t,a){a.r(t),a.d(t,{contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return p},metadata:function(){return u},toc:function(){return d}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),o=a(872),i=["components"],p={id:"feature-toggles-v2",title:"/api/admin/projects/:projectId"},s=void 0,u={unversionedId:"api/admin/feature-toggles-v2",id:"api/admin/feature-toggles-v2",title:"/api/admin/projects/:projectId",description:"In order to access the admin API endpoints you need to identify yourself. Unless you're using the none authentication method, you'll need to create an admin token and add an Authorization header using the token.",source:"@site/docs/api/admin/feature-toggles-api-v2.md",sourceDirName:"api/admin",slug:"/api/admin/feature-toggles-v2",permalink:"/api/admin/feature-toggles-v2",editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/api/admin/feature-toggles-api-v2.md",tags:[],version:"current",frontMatter:{id:"feature-toggles-v2",title:"/api/admin/projects/:projectId"},sidebar:"documentation",previous:{title:"/api/admin/events",permalink:"/api/admin/events"},next:{title:"/api/admin/feature-types",permalink:"/api/admin/feature-types"}},d=[{value:"Fetching Feature Toggles",id:"fetching-feature-toggles",children:[{value:"Get Project Overview",id:"fetching-project",children:[],level:3},{value:"Get All Feature Toggles",id:"fetching-toggles",children:[],level:3},{value:"Create Feature Toggle",id:"create-toggle",children:[],level:3},{value:"Get Feature Toggle",id:"get-toggle",children:[],level:3},{value:"Update Feature Toggle",id:"update-toggle",children:[],level:3}],level:2},{value:"Patch Feature Toggle",id:"patch-toggle",children:[{value:"Clone Feature Toggle",id:"clone-toggle",children:[],level:3},{value:"Archive Feature Toggle",id:"archive-toggle",children:[],level:3},{value:"Add strategy to Feature Toggle",id:"add-strategy",children:[],level:3},{value:"Update strategy configuration",id:"update-strategy",children:[],level:3}],level:2},{value:"Patch strategy configuration",id:"patch-strategy",children:[{value:"Delete strategy from Feature Toggle",id:"delete-strategy",children:[],level:3}],level:2},{value:"Enabling and disabling toggles",id:"enabling-and-disabling-toggles",children:[{value:"Enable Feature Toggle in an Environment",id:"enable-env",children:[],level:3},{value:"Disable Feature Toggle in an Environment",id:"disable-env",children:[],level:3}],level:2},{value:"Feature Variants",id:"feature-variants",children:[{value:"Put variants for Feature Toggle",id:"update-variants",children:[],level:3},{value:"PATCH variants for a feature toggle",id:"patch-variants-for-a-feature-toggle",children:[],level:3}],level:2},{value:"Manage project users and roles",id:"manage-project-users-and-roles",children:[{value:"Add a user to a project",id:"add-a-user-to-a-project",children:[{value:"URL parameters",id:"url-parameters",children:[],level:4},{value:"Responses",id:"responses",children:[{value:"200 OK",id:"200-ok",children:[],level:5},{value:"400 Bad Request",id:"400-bad-request",children:[],level:5}],level:4},{value:"Example query",id:"example-query",children:[],level:4}],level:3},{value:"Change a user&#39;s role in a project",id:"change-a-users-role-in-a-project",children:[{value:"URL parameters",id:"url-parameters-1",children:[],level:4},{value:"Responses",id:"responses-1",children:[{value:"200 OK",id:"200-ok-1",children:[],level:5},{value:"400 Bad Request",id:"400-bad-request-1",children:[],level:5}],level:4},{value:"Example query",id:"example-query-1",children:[],level:4}],level:3},{value:"Remove a user from a project",id:"remove-a-user-from-a-project",children:[{value:"URL parameters",id:"url-parameters-2",children:[],level:4},{value:"Responses",id:"responses-2",children:[{value:"200 OK",id:"200-ok-2",children:[],level:5},{value:"400 Bad Request",id:"400-bad-request-2",children:[],level:5}],level:4},{value:"Example query",id:"example-query-2",children:[],level:4}],level:3}],level:2}],m={toc:d};function c(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"In order to access the admin API endpoints you need to identify yourself. Unless you're using the ",(0,l.kt)("inlineCode",{parentName:"p"},"none")," authentication method, you'll need to ",(0,l.kt)("a",{parentName:"p",href:"/user_guide/api-token"},"create an ",(0,l.kt)("strong",{parentName:"a"},"admin")," token")," and add an Authorization header using the token."))),(0,l.kt)("h2",{id:"fetching-feature-toggles"},"Fetching Feature Toggles"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Available since Unleash v4.3")),(0,l.kt)("p",null,"In this document we will guide you on how you can work with feature toggles and their configuration. Please remember the following details:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"All feature toggles exists ",(0,l.kt)("em",{parentName:"li"},"inside a project"),"."),(0,l.kt)("li",{parentName:"ul"},"A feature toggle exists ",(0,l.kt)("em",{parentName:"li"},"across all environments"),"."),(0,l.kt)("li",{parentName:"ul"},"A feature toggle can take different configuration, activation strategies, per environment.")),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This document lists HTTP request data and ",(0,l.kt)("a",{parentName:"p",href:"https://curl.se/"},"cURL")," and ",(0,l.kt)("a",{parentName:"p",href:"https://httpie.io"},"HTTPie")," command examples for all endpoints. Further examples use HTTPie."))),(0,l.kt)("h3",{id:"fetching-project"},"Get Project Overview"),(0,l.kt)(o.Z,{verb:"get",url:"api/admin/projects/:project-id",title:"Get a project overview",mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will give you an general overview of a project. It will return essential details about a project, in addition it will return all feature toggles and high level environment details per feature toggle."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http GET http://localhost:4242/api/admin/projects/default Authorization:$KEY\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "description": "Default project",\n  "features": [\n    {\n      "createdAt": "2021-08-31T08:00:33.335Z",\n      "environments": [\n        {\n          "displayName": "Development",\n          "enabled": false,\n          "name": "development"\n        },\n        {\n          "displayName": "Production",\n          "enabled": false,\n          "name": "production"\n        }\n      ],\n      "lastSeenAt": null,\n      "name": "demo",\n      "stale": false,\n      "type": "release"\n    },\n    {\n      "createdAt": "2021-08-31T09:43:13.686Z",\n      "environments": [\n        {\n          "displayName": "Development",\n          "enabled": false,\n          "name": "development"\n        },\n        {\n          "displayName": "Production",\n          "enabled": false,\n          "name": "production"\n        }\n      ],\n      "lastSeenAt": null,\n      "name": "demo.test",\n      "stale": false,\n      "type": "release"\n    }\n  ],\n  "health": 100,\n  "members": 2,\n  "name": "Default",\n  "version": 1\n}\n')),(0,l.kt)("p",null,"From the results we can see that we have received two feature toggles, ",(0,l.kt)("em",{parentName:"p"},"demo"),", ",(0,l.kt)("em",{parentName:"p"},"demo.test"),", and other useful metadata about the project."),(0,l.kt)("h3",{id:"fetching-toggles"},"Get All Feature Toggles"),(0,l.kt)(o.Z,{verb:"get",url:"api/admin/projects/:projectId/features",title:"Get all feature toggles in a project",mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will return all feature toggles and high level environment details per feature toggle for a given ",(0,l.kt)("em",{parentName:"p"},"projectId")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http GET http://localhost:4242/api/admin/projects/default/features \\\nAuthorization:$KEY\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "features": [\n    {\n      "createdAt": "2021-08-31T08:00:33.335Z",\n      "environments": [\n        {\n          "displayName": "Development",\n          "enabled": false,\n          "name": "development"\n        },\n        {\n          "displayName": "Production",\n          "enabled": false,\n          "name": "production"\n        }\n      ],\n      "lastSeenAt": null,\n      "name": "demo",\n      "stale": false,\n      "type": "release"\n    },\n    {\n      "createdAt": "2021-08-31T09:43:13.686Z",\n      "environments": [\n        {\n          "displayName": "Development",\n          "enabled": false,\n          "name": "development"\n        },\n        {\n          "displayName": "Production",\n          "enabled": false,\n          "name": "production"\n        }\n      ],\n      "lastSeenAt": null,\n      "name": "demo.test",\n      "stale": false,\n      "type": "release"\n    }\n  ],\n  "version": 1\n}\n')),(0,l.kt)("h3",{id:"create-toggle"},"Create Feature Toggle"),(0,l.kt)(o.Z,{verb:"post",url:"api/admin/projects/:projectId/features",title:"Create a feature toggle with the specified details (example data)",payload:{name:"my-feature-toggle"},mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will accept HTTP POST request to create a new feature toggle for a given ",(0,l.kt)("em",{parentName:"p"},"projectId")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Toggle options")),(0,l.kt)("p",null,"This endpoint accepts the following toggle options:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property name"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"name")),(0,l.kt)("td",{parentName:"tr",align:null},"Yes"),(0,l.kt)("td",{parentName:"tr",align:null},"The name of the feature toggle."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"my-feature-toggle"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"description")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"The feature toggle's description. Defaults to an empty string."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"Turn my feature on!"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"impressionData")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"Whether to enable ",(0,l.kt)("a",{parentName:"td",href:"/advanced/impression-data"},"impression data")," for this toggle. Defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"false.")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"true"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"type")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"The ",(0,l.kt)("a",{parentName:"td",href:"/advanced/feature_toggle_types"},"type of toggle")," you want to create. Defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},'"release"')),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"release"'))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'{"name": "demo2", "description": "A new feature toggle"}\' | \\\nhttp POST http://localhost:4242/api/admin/projects/default/features \\\nAuthorization:$KEY`\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'HTTP/1.1 201 Created\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nContent-Length: 159\nContent-Type: application/json; charset=utf-8\nDate: Tue, 07 Sep 2021 20:16:02 GMT\nETag: W/"9f-4btEokgk0N74zuBVKKxws0IBu4w"\nKeep-Alive: timeout=60\nVary: Accept-Encoding\n\n{\n    "createdAt": "2021-09-07T20:16:02.614Z",\n    "description": "A new feature toggle",\n    "lastSeenAt": null,\n    "name": "demo2",\n    "project": "default",\n    "stale": false,\n    "type": "release",\n    "variants": null\n}\n')),(0,l.kt)("p",null,"Possible Errors:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"409 Conflict")," - A toggle with that name already exists")),(0,l.kt)("h3",{id:"get-toggle"},"Get Feature Toggle"),(0,l.kt)(o.Z,{verb:"get",url:"api/admin/projects/:projectId/features/:featureName",title:"Retrieve a named feature toggle",mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will return the feature toggles with the defined name and ",(0,l.kt)("em",{parentName:"p"},"projectId"),". We will also see the list of environments and all activation strategies configured per environment."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http GET http://localhost:4242/api/admin/projects/default/features/demo \\\nAuthorization:$KEY`\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "archived": false,\n    "createdAt": "2021-08-31T08:00:33.335Z",\n    "description": null,\n    "environments": [\n        {\n            "enabled": false,\n            "name": "development",\n            "strategies": [\n                {\n                    "constraints": [],\n                    "id": "8eaa8abb-0e03-4dbb-a440-f3bf193917ad",\n                    "name": "default",\n                    "parameters": null\n                }\n            ]\n        },\n        {\n            "enabled": false,\n            "name": "production",\n            "strategies": []\n        }\n    ],\n    "lastSeenAt": null,\n    "name": "demo",\n    "project": "default",\n    "stale": false,\n    "type": "release",\n    "variants": null\n}\n')),(0,l.kt)("p",null,"Possible Errors:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"404 Not Found")," - Could not find feature toggle with the provided name.")),(0,l.kt)("h3",{id:"update-toggle"},"Update Feature Toggle"),(0,l.kt)(o.Z,{verb:"put",url:"api/admin/projects/:projectId/features/:featureName",title:"Update a feature toggle entry (example data)",payload:{name:"demo",description:"An updated feature toggle description."},mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will accept HTTP PUT request to update the feature toggle metadata."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'{"name": "demo", "description": "An update feature toggle", "type": "kill-switch"}\' | \\\nhttp PUT http://localhost:4242/api/admin/projects/default/features/demo \\\nAuthorization:$KEY`\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "createdAt": "2021-09-07T20:16:02.614Z",\n    "description": "An update feature toggle",\n    "lastSeenAt": null,\n    "name": "demo",\n    "project": "default",\n    "stale": false,\n    "type": "kill-switch",\n    "variants": null\n}\n')),(0,l.kt)("p",null,"Some fields is not possible to change via this endpoint:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"name"),(0,l.kt)("li",{parentName:"ul"},"project"),(0,l.kt)("li",{parentName:"ul"},"createdAt"),(0,l.kt)("li",{parentName:"ul"},"lastSeen")),(0,l.kt)("h2",{id:"patch-toggle"},"Patch Feature Toggle"),(0,l.kt)(o.Z,{verb:"patch",url:"api/admin/projects/:projectId/features/:featureName",title:"Patch a feature toggle (example data)",payload:[{op:"replace",path:"/description",value:"patched description"}],mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will accept HTTP PATCH request to update the feature toggle metadata."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'[{"op": "replace", "path": "/description", "value": "patched desc"}]\' | \\\nhttp PATCH http://localhost:4242/api/admin/projects/default/features/demo \\\nAuthorization:$KEY`\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "createdAt": "2021-09-07T20:16:02.614Z",\n    "description": "patched desc",\n    "lastSeenAt": null,\n    "name": "demo",\n    "project": "default",\n    "stale": false,\n    "type": "release",\n    "variants": null\n}\n')),(0,l.kt)("p",null,"Some fields is not possible to change via this endpoint:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"name"),(0,l.kt)("li",{parentName:"ul"},"project"),(0,l.kt)("li",{parentName:"ul"},"createdAt"),(0,l.kt)("li",{parentName:"ul"},"lastSeen")),(0,l.kt)("h3",{id:"clone-toggle"},"Clone Feature Toggle"),(0,l.kt)(o.Z,{verb:"post",url:"api/admin/projects/:projectId/features/:featureName/clone",title:"Clone a feature toggle (example data)",payload:{name:"newToggleName"},mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will accept HTTP POST request to clone an existing feature toggle with all strategies and variants.  When cloning a toggle, you ",(0,l.kt)("strong",{parentName:"p"},"must")," provide a new name for it. You can not clone archived feature toggles. The newly created feature toggle will be disabled for all environments."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'{ "name": "DemoNew" }\' | \\\nhttp POST http://localhost:4242/api/admin/projects/default/features/Demo/clone \\\nAuthorization:$KEY`\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'HTTP/1.1 201 Created\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nContent-Length: 260\nContent-Type: application/json; charset=utf-8\nDate: Wed, 06 Oct 2021 20:04:39 GMT\nETag: W/"104-joC/gdjtJ29jZMxj91lIzR42Pmo"\nKeep-Alive: timeout=60\nVary: Accept-Encoding\n\n{\n    "createdAt": "2021-09-29T10:22:28.523Z",\n    "description": "Some useful description",\n    "lastSeenAt": null,\n    "name": "DemoNew",\n    "project": "default",\n    "stale": false,\n    "type": "release",\n    "variants": [\n        {\n            "name": "blue",\n            "overrides": [],\n            "stickiness": "default",\n            "weight": 1000,\n            "weightType": "variable"\n        }\n    ]\n}\n\n')),(0,l.kt)("p",null,"Possible Errors:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"409 Conflict")," - A toggle with that name already exists")),(0,l.kt)("h3",{id:"archive-toggle"},"Archive Feature Toggle"),(0,l.kt)(o.Z,{verb:"delete",url:"api/admin/projects/:projectId/features/:featureName",title:"Archive a named feature toggle",mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will accept HTTP DELETE requests to archive a feature toggle."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http DELETE http://localhost:4242/api/admin/projects/default/features/demo \\\nAuthorization:$KEY`\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"HTTP/1.1 202 Accepted\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nDate: Wed, 08 Sep 2021 20:09:21 GMT\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\n")),(0,l.kt)("h3",{id:"add-strategy"},"Add strategy to Feature Toggle"),(0,l.kt)(o.Z,{verb:"post",url:"api/admin/projects/:projectId/features/:featureName/environments/:environment/strategies",title:"Add a new strategy to the named feature toggle in the named environment (example data)",payload:{name:"flexibleRollout",parameters:{rollout:20,groupId:"demo",stickiness:"default"}},mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This endpoint will allow you to add a new strategy to a feature toggle in a given environment."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'{"name": "flexibleRollout",\n        "parameters": {\n            "rollout": 20,\n            "groupId": "demo",\n            "stickiness": "default"\n          }\n      }\' | \\\nhttp POST \\\nhttp://localhost:4242/api/admin/projects/default/features/demo/environments/production/strategies \\\nAuthorization:$KEY\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "constraints": [],\n    "id": "77bbe972-ffce-49b2-94d9-326593e2228e",\n    "name": "flexibleRollout",\n    "parameters": {\n        "groupId": "demo",\n        "rollout": 20,\n        "stickiness": "default"\n    }\n}\n')),(0,l.kt)("h3",{id:"update-strategy"},"Update strategy configuration"),(0,l.kt)(o.Z,{verb:"put",url:"api/admin/projects/:projectId/features/:featureName/environments/:environment/strategies/:strategy-id",title:"Overwrite the specified strategy on the named feature toggle in the named environment (example data)",payload:{name:"flexibleRollout",parameters:{rollout:25,groupId:"demo",stickiness:"default"}},mdxType:"ApiRequest"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'{"name": "flexibleRollout",\n        "parameters": {\n          "rollout": 25,\n          "groupId": "demo",\n          "stickiness": "default"\n        }\n      }\' | \\\nhttp PUT \\\nhttp://localhost:4242/api/admin/projects/default/features/demo/environments/production/strategies/77bbe972-ffce-49b2-94d9-326593e2228e \\\nAuthorization:$KEY\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "constraints": [],\n    "id": "77bbe972-ffce-49b2-94d9-326593e2228e",\n    "name": "flexibleRollout",\n    "parameters": {\n        "groupId": "demo",\n        "rollout": 20,\n        "stickiness": "default"\n    }\n}\n')),(0,l.kt)("h2",{id:"patch-strategy"},"Patch strategy configuration"),(0,l.kt)(o.Z,{verb:"patch",url:"api/admin/projects/:project-id/features/:featureName/environments/:environment/strategies/:strategyId",title:"Patch update a strategy definition (example data)",payload:[{op:"replace",path:"/parameters/rollout",value:50}],mdxType:"ApiRequest"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'[{"op": "replace", "path": "/parameters/rollout", "value": 50}]\' | \\\nhttp PATCH \\\nhttp://localhost:4242/api/admin/projects/default/features/demo/environments/production/strategies/ea5404e5-0c0d-488c-93b2-0a2200534827 \\\nAuthorization:$KEY\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "constraints": [],\n    "id": "ea5404e5-0c0d-488c-93b2-0a2200534827",\n    "name": "flexibleRollout",\n    "parameters": {\n        "groupId": "demo",\n        "rollout": 50,\n        "stickiness": "default"\n    }\n}\n')),(0,l.kt)("h3",{id:"delete-strategy"},"Delete strategy from Feature Toggle"),(0,l.kt)(o.Z,{verb:"delete",url:"api/admin/projects/:projectId/features/:featureName/environments/:environment/strategies/:strategyId",title:"Delete the strategy with the given ID",mdxType:"ApiRequest"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http DELETE http://localhost:4242/api/admin/projects/default/features/demo/environments/production/strategies/77bbe972-ffce-49b2-94d9-326593e2228e Authorization:$KEY\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"HTTP/1.1 200 OK\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nContent-Type: application/json; charset=utf-8\nDate: Tue, 07 Sep 2021 20:47:55 GMT\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\nVary: Accept-Encoding\n")),(0,l.kt)("h2",{id:"enabling-and-disabling-toggles"},"Enabling and disabling toggles"),(0,l.kt)("h3",{id:"enable-env"},"Enable Feature Toggle in an Environment"),(0,l.kt)(o.Z,{verb:"post",url:"api/admin/projects/:projectId/features/:featureName/environments/:environment/on",title:"Activate the named toggle in the given environment",mdxType:"ApiRequest"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http POST http://localhost:4242/api/admin/projects/default/features/demo/environments/development/on Authorization:$KEY --json\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"HTTP/1.1 200 OK\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nDate: Tue, 07 Sep 2021 20:49:51 GMT\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\n")),(0,l.kt)("p",null,"Possible Errors:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"409 Conflict")," - You can not enable the environment before it has strategies.")),(0,l.kt)("h3",{id:"disable-env"},"Disable Feature Toggle in an Environment"),(0,l.kt)(o.Z,{verb:"post",url:"api/admin/projects/:projectId/features/:featureName/environments/:environment/off",title:"Disable the named toggle in the given environment",mdxType:"ApiRequest"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http POST http://localhost:4242/api/admin/projects/default/features/demo/environments/development/off Authorization:$KEY --json\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"HTTP/1.1 200 OK\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nDate: Tue, 07 Sep 2021 20:49:51 GMT\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\n")),(0,l.kt)("h2",{id:"feature-variants"},"Feature Variants"),(0,l.kt)("h3",{id:"update-variants"},"Put variants for Feature Toggle"),(0,l.kt)(o.Z,{verb:"put",url:"api/admin/projects/:projectId/features/:featureName/variants",title:"Create (overwrite) variants for a feature toggle (example data)",payload:[{name:"variant1",weightType:"fix",weight:650},{name:"variant2",weightType:"variable",weight:123}],mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This overwrites the current variants for the feature toggle specified in the :featureName parameter.\nThe backend will validate the input for the following invariants"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If there are variants, there needs to be at least one variant with ",(0,l.kt)("inlineCode",{parentName:"li"},"weightType: variable")),(0,l.kt)("li",{parentName:"ul"},"The sum of the weights of variants with ",(0,l.kt)("inlineCode",{parentName:"li"},"weightType: fix")," must be below 1000 (< 1000)")),(0,l.kt)("p",null,"The backend will also distribute remaining weight up to 1000 after adding the variants with ",(0,l.kt)("inlineCode",{parentName:"p"},"weightType: fix")," together amongst the variants of ",(0,l.kt)("inlineCode",{parentName:"p"},"weightType: variable")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'[\n    {\n        "name": "variant1",\n        "weightType": "fix",\n        "weight": 650\n    },\n    {\n        "name": "variant2",\n        "weightType": "variable",\n        "weight": 123\n    }\n]\' | \\\nhttp PUT http://localhost:4242/api/admin/projects/default/features/demo/variants Authorization:$KEY\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'HTTP/1.1 200 OK\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nDate: Tue, 23 Nov 2021 08:46:32 GMT\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\nContent-Type: application/json; charset=utf-8\n\n{\n  "version": "1",\n  "variants": [\n    {\n      "name": "variant2",\n      "weightType": "variable",\n      "weight": 350\n    },\n    {\n      "name": "variant1",\n      "weightType": "fix",\n      "weight": 650\n    }\n  ]\n}\n')),(0,l.kt)("h3",{id:"patch-variants-for-a-feature-toggle"},"PATCH variants for a feature toggle"),(0,l.kt)(o.Z,{verb:"patch",url:"api/admin/projects/:projectId/features/:featureName/variants",title:"Create (overwrite) variants for a feature toggle (example data)",payload:[{op:"add",path:"/1",value:{name:"new-variant",weightType:"fix",weight:200}}],mdxType:"ApiRequest"}),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Example Query")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'echo \'[{"op": "add", "path": "/1", "value": {\n  "name": "new-variant",\n  "weightType": "fix",\n  "weight": 200\n}}]\' | \\\nhttp PATCH \\\nhttp://localhost:4242/api/admin/projects/default/features/demo/variants \\\nAuthorization:$KEY\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"}," Example Response ")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "version": "1",\n  "variants": [\n    {\n      "name": "variant2",\n      "weightType": "variable",\n      "weight": 150\n    },\n    {\n      "name": "new-variant",\n      "weightType": "fix",\n      "weight": 200\n    },\n    {\n      "name": "variant1",\n      "weightType": "fix",\n      "weight": 650\n    }\n  ]\n}\n')),(0,l.kt)("h2",{id:"manage-project-users-and-roles"},"Manage project users and roles"),(0,l.kt)("p",null,"You can add and remove users to a project using the ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/admin/projects/:projectId/users/:userId/roles/:roleId")," endpoint. When adding or removing users, you must also provide the ID for the role to give them (when adding) or the ID of the role they currently have (when removing)."),(0,l.kt)("h3",{id:"add-a-user-to-a-project"},"Add a user to a project"),(0,l.kt)(o.Z,{verb:"POST",url:"api/admin/projects/:projectId/users/:userId/roles/:roleId",title:"Add a user to a project (example data)",payload:{userId:25,projectId:"myProject",roleId:"1"},mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This will add a user to a project and give the user a specified role within that project."),(0,l.kt)("h4",{id:"url-parameters"},"URL parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"userId")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the user you want to add to the project."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"1"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"projectId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"The id of the project to add the user to."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"MyCoolProject"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"roleId")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"The id of the role you want to assign to the new user in the project."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"7"))))),(0,l.kt)("h4",{id:"responses"},"Responses"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Responses data"),(0,l.kt)("h5",{id:"200-ok"},"200 OK"),(0,l.kt)("p",null,"The user was added to the project with the specified role. This response has no body."),(0,l.kt)("h5",{id:"400-bad-request"},"400 Bad Request"),(0,l.kt)("p",null,"The user already exists in the project and cannot be added again:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "msg": "User already has access to project=<projectId>"\n  }\n]\n'))),(0,l.kt)("h4",{id:"example-query"},"Example query"),(0,l.kt)("p",null,"The following query would add the user with ID 42 to the ",(0,l.kt)("em",{parentName:"p"},"MyCoolProject")," project and give them the role with ID 13."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http POST \\\nhttp://localhost:4242/api/admin/projects/MyCoolProject/users/42/roles/13 \\\nAuthorization:$KEY\n")),(0,l.kt)("h3",{id:"change-a-users-role-in-a-project"},"Change a user's role in a project"),(0,l.kt)(o.Z,{verb:"PUT",url:"api/admin/projects/:projectId/users/:userId/roles/:roleId",title:"Update a user's role in a project",payload:{userId:25,projectId:"myProject",roleId:"3"},mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This will change the user's project role to the role specified by ",(0,l.kt)("inlineCode",{parentName:"p"},":roleId"),". If the user has not been added to the project, nothing happens."),(0,l.kt)("h4",{id:"url-parameters-1"},"URL parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"userId")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the user whose role you want to update."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"1"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"projectId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"The id of the relevant project."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"MyCoolProject"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"roleId")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"The role ID of the role you wish to assign the user."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"7"))))),(0,l.kt)("h4",{id:"responses-1"},"Responses"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Responses data"),(0,l.kt)("h5",{id:"200-ok-1"},"200 OK"),(0,l.kt)("p",null,"The user's role has been successfully changed. This response has no body."),(0,l.kt)("h5",{id:"400-bad-request-1"},"400 Bad Request"),(0,l.kt)("p",null,"You tried to change the role of the only user with the ",(0,l.kt)("inlineCode",{parentName:"p"},"owner")," role in the project:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "msg": "A project must have at least one owner."\n  }\n]\n'))),(0,l.kt)("h4",{id:"example-query-1"},"Example query"),(0,l.kt)("p",null,"The following query would change the role of the user with ID 42 the role with ID 13 in the ",(0,l.kt)("em",{parentName:"p"},"MyCoolProject")," project."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http PUT \\\nhttp://localhost:4242/api/admin/projects/MyCoolProject/users/42/roles/13 \\\nAuthorization:$KEY\n")),(0,l.kt)("h3",{id:"remove-a-user-from-a-project"},"Remove a user from a project"),(0,l.kt)(o.Z,{verb:"DELETE",url:"api/admin/projects/:projectId/users/:userId/roles/:roleId",title:"Delete a user from a project",mdxType:"ApiRequest"}),(0,l.kt)("p",null,"This removes the specified role from the user in the project. Because users can only have one role in a project, this effectively removes the user from the project. The user ",(0,l.kt)("em",{parentName:"p"},"must")," have the role indicated by the ",(0,l.kt)("inlineCode",{parentName:"p"},":roleId")," URL parameter for the request to succeed."),(0,l.kt)("h4",{id:"url-parameters-2"},"URL parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"userId")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the user you want to remove from the project."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"1"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"projectId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"The id of the project to remove the user from."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"MyCoolProject"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"roleId")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"The current role the of the user you want to remove from the project."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"7"))))),(0,l.kt)("h4",{id:"responses-2"},"Responses"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Responses data"),(0,l.kt)("h5",{id:"200-ok-2"},"200 OK"),(0,l.kt)("p",null,"The user no longer has the specified role in the project. If the user had this role prior to this API request, they will have been removed from the project. This response has no body."),(0,l.kt)("h5",{id:"400-bad-request-2"},"400 Bad Request"),(0,l.kt)("p",null,"You tried to remove the only user with the role ",(0,l.kt)("inlineCode",{parentName:"p"},"owner")," in the project:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "msg": "A project must have at least one owner."\n  }\n]\n'))),(0,l.kt)("h4",{id:"example-query-2"},"Example query"),(0,l.kt)("p",null,"The following query would remove the user with ID 42 and role ID 13 from the ",(0,l.kt)("em",{parentName:"p"},"MyCoolProject")," project."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"http DELETE \\\nhttp://localhost:4242/api/admin/projects/MyCoolProject/users/42/roles/13 \\\nAuthorization:$KEY\n")))}c.isMDXComponent=!0}}]);