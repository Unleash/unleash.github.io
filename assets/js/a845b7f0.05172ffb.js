"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[93751],{83142:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>g,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var i=n(87462),a=(n(67294),n(3905));const l={title:"ADR: Handling tables"},r=void 0,s={unversionedId:"contributing/ADRs/front-end/handling-tables",id:"contributing/ADRs/front-end/handling-tables",title:"ADR: Handling tables",description:"Background",source:"@site/docs/contributing/ADRs/front-end/handling-tables.md",sourceDirName:"contributing/ADRs/front-end",slug:"/contributing/ADRs/front-end/handling-tables",permalink:"/contributing/ADRs/front-end/handling-tables",draft:!1,editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/contributing/ADRs/front-end/handling-tables.md",tags:[],version:"current",frontMatter:{title:"ADR: Handling tables"},sidebar:"documentation",previous:{title:"ADR: Component naming and file naming",permalink:"/contributing/ADRs/front-end/component-naming"},next:{title:"ADR: Interface naming",permalink:"/contributing/ADRs/front-end/interface-naming"}},o={},d=[{value:"Background",id:"background",level:2},{value:"Options",id:"options",level:3},{value:"Decision",id:"decision",level:2}],c={toc:d};function g(e){let{components:t,...l}=e;return(0,a.kt)("wrapper",(0,i.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"background"},"Background"),(0,a.kt)("p",null,"We need to handle table state on different pages. Some pages do client side table handling while some other need to offload some work to the server.\nTwo most critical pages that we migrate to server handling are the Feature Flags page and Project Overview page. "),(0,a.kt)("p",null,(0,a.kt)("a",{target:"_blank",href:n(46815).Z},"Table handling options")),(0,a.kt)("p",null,"Table handling consists of 4 parts:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"API call and ",(0,a.kt)("strong",{parentName:"li"},"server side data handling")),(0,a.kt)("li",{parentName:"ul"},"persistent table state in URL and localStorage (handled by the usePerisistentTableState hook)"),(0,a.kt)("li",{parentName:"ul"},"column definitions and ",(0,a.kt)("strong",{parentName:"li"},"client side data handling")," (handled either by react-table or custom code)"),(0,a.kt)("li",{parentName:"ul"},"Material-UI rendering components")),(0,a.kt)("p",null,"Data handling consists of:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"sorting (either server or client side)"),(0,a.kt)("li",{parentName:"ul"},"pagination (either server or client side)"),(0,a.kt)("li",{parentName:"ul"},"searching (either server or client side)"),(0,a.kt)("li",{parentName:"ul"},"filtering (either server or client side)"),(0,a.kt)("li",{parentName:"ul"},"column visibility (only client side)"),(0,a.kt)("li",{parentName:"ul"},"row selection (only client side)")),(0,a.kt)("h3",{id:"options"},"Options"),(0,a.kt)("p",null,"For pages with no server data handling we need ",(0,a.kt)("inlineCode",{parentName:"p"},"react-table")," for client side data handling.\nFor pages with server data handling we considered two options that we implemented in a spike:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"not using ",(0,a.kt)("inlineCode",{parentName:"li"},"react-table")," and writing minimal custom code for column visibility, data mapping and row selection.\nNot much else is required since server side is doing sorting/pagination/searching/filtering"),(0,a.kt)("li",{parentName:"ul"},"using ",(0,a.kt)("inlineCode",{parentName:"li"},"react-table")," with the extra cost of the library magic and writing connectors from backend data to ",(0,a.kt)("inlineCode",{parentName:"li"},"react-table")," structures")),(0,a.kt)("p",null,"The tradeoff is between simplicity of the pages that support server side data handling and the consistency\nbetween the definitions of the client side and server side powered tables."),(0,a.kt)("h2",{id:"decision"},"Decision"),(0,a.kt)("p",null,"We have decided to ",(0,a.kt)("strong",{parentName:"p"},"favor consistency over one-off simplicity"),".\nUsing ",(0,a.kt)("inlineCode",{parentName:"p"},"react-table")," comes at a cost but allows to change between client and server side data handling with lesser effort. It allows to revert decisions to client side and makes the migration\nto server side data handling easier."))}g.isMDXComponent=!0},46815:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/files/handling-tables-adr-56bdb29d287040b5b7bf924d00e113ce.png"}}]);