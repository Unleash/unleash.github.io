"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[45298],{65362:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const o={title:"How to create a feature flag"},i=void 0,s={unversionedId:"how-to/how-to-create-feature-toggles",id:"how-to/how-to-create-feature-toggles",title:"How to create a feature flag",description:"This document uses feature flags and feature toggles interchangeably. Some people prefer flag; others prefer toggle. We use both - they are synonyms for us.",source:"@site/docs/how-to/how-to-create-feature-toggles.md",sourceDirName:"how-to",slug:"/how-to/how-to-create-feature-toggles",permalink:"/how-to/how-to-create-feature-toggles",draft:!1,editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/how-to/how-to-create-feature-toggles.md",tags:[],version:"current",frontMatter:{title:"How to create a feature flag"},sidebar:"documentation",previous:{title:"How to capture impression data",permalink:"/how-to/how-to-capture-impression-data"},next:{title:"How to define custom context fields",permalink:"/how-to/how-to-define-custom-context-fields"}},l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Required steps",id:"required-steps",level:2},{value:"Step 1: Create a toggle",id:"step-1",level:3},{value:"Step 2: Add a strategy",id:"step-2",level:3},{value:"Step 3: Enable the toggle",id:"step-3",level:3},{value:"Optional steps",id:"optional-steps",level:2},{value:"Add constraints and segmentation",id:"add-constraints-and-segmentation",level:3},{value:"Constraints",id:"constraints",level:4},{value:"Segments",id:"segments",level:4},{value:"Add variants",id:"add-variants",level:3}],p={toc:d};function g(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{title:"Feature flags or feature toggles?",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This document uses ",(0,r.kt)("strong",{parentName:"p"},"feature flags")," and ",(0,r.kt)("strong",{parentName:"p"},"feature toggles")," interchangeably. Some people prefer flag; others prefer toggle. We use both - they are synonyms for us.")),(0,r.kt)("p",null,"Feature Flags (or ",(0,r.kt)("a",{parentName:"p",href:"/reference/feature-toggles"},"Feature toggles")," in the UI) are the foundation of Unleash. They are at the core of everything we do and are a fundamental building block in any feature management system. This guide shows you how to create feature flags in Unleash and how to add any optional constraints, segments, variants, and more. Links to learn more about these concepts will be scattered throughout the text."),(0,r.kt)("p",null,"You can perform every action both via the UI and the admin API. This guide includes screenshots to highlight the relevant UI controls and links to the relevant API methods for each step."),(0,r.kt)("p",null,"This guide is split into three sections:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#prerequisites"},"Prerequisites"),": you need these before you can create a flag."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#required-steps"},"Required steps"),": all the required steps to create a flag and activate it in production."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#optional-steps"},"Optional steps"),": optional steps you can take to further target and configure your feature flag and its audience.")),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"To perform all the steps in this guide, you will need:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A running Unleash instance"),(0,r.kt)("li",{parentName:"ul"},"A project to hold the flag"),(0,r.kt)("li",{parentName:"ul"},"A user with an ",(0,r.kt)("strong",{parentName:"li"},"editor")," or ",(0,r.kt)("strong",{parentName:"li"},"admin")," role OR a user with the following permissions inside the target project:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/reference/rbac#project-permissions"},"project-level permissions")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"create feature toggles"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/reference/rbac#environment-permissions"},"environment-level permissions")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"create/edit variants",(0,r.kt)("sup",{parentName:"li",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))),(0,r.kt)("li",{parentName:"ul"},"create activation strategies"),(0,r.kt)("li",{parentName:"ul"},"update activation strategies"),(0,r.kt)("li",{parentName:"ul"},"enable/disable toggles")))))),(0,r.kt)("admonition",{title:"roles",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Refer to ",(0,r.kt)("a",{parentName:"p",href:"/reference/rbac"},"the documentation on role-based access control")," for more information about the available roles and their permissions.")),(0,r.kt)("h2",{id:"required-steps"},"Required steps"),(0,r.kt)("p",null,"This section takes you through the required steps to create and activate a feature toggle. It assumes that you have all the prerequisites from the previous section done."),(0,r.kt)("h3",{id:"step-1"},"Step 1: Create a toggle"),(0,r.kt)("admonition",{title:"API: create a toggle",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#create-toggle"},"Admin API endpoint for creating a feature toggle"),". The payload accepts all the same fields as the Admin UI form. The Admin UI also displays the corresponding cURL command when you use the form.")),(0,r.kt)("p",null,'In the project that you want to create the toggle in, use the "new feature toggle" button and fill the form out with your desired configuration. Refer to the ',(0,r.kt)("a",{parentName:"p",href:"/reference/feature-toggles"},"feature toggle reference documentation")," for the full list of configuration options and explanations."),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(75434).Z,width:"1366",height:"589"})),(0,r.kt)("h3",{id:"step-2"},"Step 2: Add a strategy"),(0,r.kt)("admonition",{title:"API: Add a strategy",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#add-strategy"},"API for adding a strategy to a feature toggle"),". You can find the configuration options for each strategy in the ",(0,r.kt)("a",{parentName:"p",href:"/reference/activation-strategies"},"activation strategy reference documentation"),".")),(0,r.kt)("p",null,"Decide which environment you want to enable the toggle in. Select that environment and add an activation strategy. Different activation strategies will act differently as described in the ",(0,r.kt)("a",{parentName:"p",href:"/reference/activation-strategies"},"activation strategy documentation"),". The configuration for each strategy differs accordingly. After selecting a strategy, complete the steps to configure it."),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(50479).Z,width:"1366",height:"678"})),(0,r.kt)("h3",{id:"step-3"},"Step 3: Enable the toggle"),(0,r.kt)("admonition",{title:"API: Enable a toggle",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#enable-env"},"API for enabling an environment for a toggle")," and specify the environment you'd like to enable.")),(0,r.kt)("p",null,"Use the environments toggles to switch on the environment that you chose above. Depending on the activation strategy you added in the previous step, the toggle should now evaluate to true or false depending on the Unleash context you provide it."),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(60489).Z,width:"1366",height:"678"})),(0,r.kt)("h2",{id:"optional-steps"},"Optional steps"),(0,r.kt)("p",null,"These optional steps allow you to further configure your feature toggles to add optional payloads, variants for A/B testing, more detailed user targeting and exceptions/overrides."),(0,r.kt)("h3",{id:"add-constraints-and-segmentation"},"Add constraints and segmentation"),(0,r.kt)("p",null,"Constraints and segmentation allow you to set filters on your strategies, so that they will only be evaluated for users and applications that match the specified preconditions. Refer to the ",(0,r.kt)("a",{parentName:"p",href:"/reference/strategy-constraints",title:"strategy constraints reference documentation"},"strategy constraints")," and ",(0,r.kt)("a",{parentName:"p",href:"/reference/segments"},"segments reference documentation")," for more information."),(0,r.kt)("p",null,'To add constraints and segmentation, use the "edit strategy" button for the desired strategy.'),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(33560).Z,width:"1366",height:"694"})),(0,r.kt)("h4",{id:"constraints"},"Constraints"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Constraints aren't fixed and can be changed later to further narrow your audience. You can add them either when you add a strategy to a toggle or at any point thereafter.")),(0,r.kt)("admonition",{title:"API: Add constraints",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can either ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#add-strategy"},"add constraints when you add the strategy")," or ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#update-strategy",title:"PUT an activation strategy"},"PUT")," or ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#put-strategy"},"PATCH the strategy afterwards"))),(0,r.kt)("p",null,'In the strategy configuration screen for the strategy that you want to configure, use the "add constraint" button to add a strategy constraint.'),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(43719).Z,width:"1366",height:"694"})),(0,r.kt)("h4",{id:"segments"},"Segments"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This can be done after you have created a strategy.")),(0,r.kt)("admonition",{title:"API: add segments",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/segments#replace-activation-strategy-segments"},"API for adding segments to a strategy")," to add segments to your strategy.")),(0,r.kt)("p",null,'In the strategy configuration screen for the strategy that you want to configure, use the "select segments" dropdown to add segments.'),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(66806).Z,width:"1366",height:"694"})),(0,r.kt)("h3",{id:"add-variants"},"Add variants"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This can be done at any point after you've created your toggle.")),(0,r.kt)("admonition",{title:"API: add variants",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the ",(0,r.kt)("a",{parentName:"p",href:"/reference/api/legacy/unleash/admin/features-v2#update-variants"},"update variants endpoint"),". The payload should be your desired variant configuration.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/reference/feature-toggle-variants"},"Variants"),' give you the ability to further target your users and split them into groups of your choosing, such as for A/B testing. On the toggle overview page, select the variants tab. Use the "new variant" button to add the variants that you want.'),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(2515).Z,width:"1369",height:"658"})),(0,r.kt)("div",{className:"footnotes"},(0,r.kt)("hr",{parentName:"div"}),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol",id:"fn-1"},'Prior to Unleash 4.21, "create/edit variants" was a project-level permission instead of an environment-level permission.',(0,r.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")))))}g.isMDXComponent=!0},43719:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-add-constraint-e4c373a9bb170692acb72442d658dc0d.png"},66806:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-add-segment-35766f62d9c991bfad4a33e80bd3332d.png"},50479:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-add-strategy-ef15e5262d7d7891308d08970e96d4c2.png"},2515:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-add-variants-bd1d5b9f1a5deb872745f31abba05edf.png"},33560:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-edit-strategy-2d4db63979dc725ff3d9f80ec14e8182.png"},60489:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-enable-env-fc549c1ab446ee98e7848ee789ff9eef.png"},75434:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/create-toggle-new-toggle-6b41e0abb0f5a85491205a633c9bb942.png"}}]);