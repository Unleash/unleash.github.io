"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[4784],{8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,l=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:l},t)}},3580:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7462),l=n(7294),r=n(2389),i=n(6808),s=n(6010),d="tabItem_LplD";function o(e){var t,n,r,o=e.lazy,p=e.block,m=e.defaultValue,u=e.values,c=e.groupId,g=e.className,k=l.Children.map(e.children,(function(e){if((0,l.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),h=null!=u?u:k.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),N=(0,i.lx)(h,(function(e,t){return e.value===t.value}));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===m?m:null!=(t=null!=m?m:null==(n=k.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(r=k[0])?void 0:r.props.value;if(null!==v&&!h.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+h.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,i.UB)(),f=y.tabGroupChoices,b=y.setTabGroupChoices,C=(0,l.useState)(v),w=C[0],x=C[1],T=[],I=(0,i.o5)().blockElementScrollPositionUntilNextRender;if(null!=c){var A=f[c];null!=A&&A!==w&&h.some((function(e){return e.value===A}))&&x(A)}var D=function(e){var t=e.currentTarget,n=T.indexOf(t),a=h[n].value;a!==w&&(I(t),x(a),null!=c&&b(c,a))},E=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break;case"ArrowLeft":var l=T.indexOf(e.currentTarget)-1;n=T[l]||T[T.length-1]}null==(t=n)||t.focus()};return l.createElement("div",{className:"tabs-container"},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":p},g)},h.map((function(e){var t=e.value,n=e.label,r=e.attributes;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:function(e){return T.push(e)},onKeyDown:E,onFocus:D,onClick:D},r,{className:(0,s.Z)("tabs__item",d,null==r?void 0:r.className,{"tabs__item--active":w===t})}),null!=n?n:t)}))),o?(0,l.cloneElement)(k.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):l.createElement("div",{className:"margin-vert--md"},k.map((function(e,t){return(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==w})}))))}function p(e){var t=(0,r.Z)();return l.createElement(o,(0,a.Z)({key:String(t)},e))}},872:function(e,t,n){var a=n(7294),l=n(3580),r=n(8215),i=n(5197);t.Z=function(e){var t=e.verb,n=e.payload,s=e.url,d=e.title,o=(null==t?void 0:t.toUpperCase())||"",p=JSON.stringify(n,null,2),m=(n?"\n"+o+" <unleash-url>/"+s+"\nAuthorization: <API-token>\ncontent-type: application/json\n\n"+p:"\n"+o+" <unleash-url>/"+s+"\nAuthorization: <API-token>\ncontent-type: application/json").trim(),u=(n?'\ncurl -H "Content-Type: application/json" \\\n     -H "Authorization: <API-token>" \\\n     -X '+o+" \\\n     -d '"+p+"' \\\n     <unleash-url>/"+s:'\ncurl -H "Content-Type: application/json" \\\n     -H "Authorization: <API-token>" \\\n     -X '+o+" \\\n     <unleash-url>/"+s).trim(),c=(n?"echo '"+p+"' \\\n| http "+o+" \\\n  <unleash-url>/"+s+" \\\n  Authorization:<API-token>":("\nhttp "+o+" \\\n  <unleash-url>/"+s+" \\\n  Authorization:<API-token>").trim()).trim();return a.createElement(l.Z,{groupId:"api-request"},a.createElement(r.Z,{value:"http",label:"HTTP"},a.createElement(i.Z,{language:"http",title:d},m)),a.createElement(r.Z,{value:"curl",label:"cURL"},a.createElement(i.Z,{language:"bash",title:d},u)),a.createElement(r.Z,{value:"httpie",label:"HTTPie"},a.createElement(i.Z,{language:"bash",title:d},c)))}},1505:function(e,t,n){n.r(t),n.d(t,{basePath:function(){return u},contentTitle:function(){return o},default:function(){return k},frontMatter:function(){return d},metadata:function(){return p},path:function(){return c},toc:function(){return m}});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),i=n(872),s=["components"],d={title:"/api/admin/segments"},o=void 0,p={unversionedId:"api/admin/segments",id:"api/admin/segments",title:"/api/admin/segments",description:'export const basePath = "api/admin/segments"',source:"@site/docs/api/admin/segments.mdx",sourceDirName:"api/admin",slug:"/api/admin/segments",permalink:"/api/admin/segments",editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/api/admin/segments.mdx",tags:[],version:"current",frontMatter:{title:"/api/admin/segments"},sidebar:"documentation",previous:{title:"/api/admin/projects",permalink:"/api/admin/projects"},next:{title:"/api/admin/state",permalink:"/api/admin/state"}},m=[{value:"Get all segments",id:"get-all-segments",children:[{value:"200 OK",id:"200-ok",children:[],level:3}],level:2},{value:"Create segment",id:"create-segment",children:[{value:"201 Created",id:"201-created",children:[],level:3},{value:"400 Bad Request",id:"400-bad-request",children:[],level:3},{value:"Payload structure",id:"payload-structure",children:[],level:3}],level:2},{value:"Get segment by ID",id:"get-segment-by-id",children:[{value:"200 OK",id:"200-ok-1",children:[],level:3},{value:"404 Not Found",id:"404-not-found",children:[],level:3}],level:2},{value:"Update an existing segment",id:"update-an-existing-segment",children:[{value:"204 No Content",id:"204-no-content",children:[],level:3},{value:"404 Not Found",id:"404-not-found-1",children:[],level:3}],level:2},{value:"Delete a segment",id:"delete-a-segment",children:[{value:"204 No Content",id:"204-no-content-1",children:[],level:3},{value:"404 Not Found",id:"404-not-found-2",children:[],level:3},{value:"409 Conflict",id:"409-conflict",children:[],level:3}],level:2},{value:"List strategies that use a specific segment",id:"list-strategies-that-use-a-specific-segment",children:[{value:"200 OK",id:"200-ok-2",children:[],level:3},{value:"404 Not Found",id:"404-not-found-3",children:[],level:3}],level:2},{value:"List segments applied to a specific strategy",id:"list-segments-applied-to-a-specific-strategy",children:[{value:"200 OK",id:"200-ok-3",children:[],level:3},{value:"404 Not Found",id:"404-not-found-4",children:[],level:3}],level:2},{value:"Replace activation strategy segments",id:"replace-activation-strategy-segments",children:[{value:"Remove all segments from an activation strategy",id:"remove-all-segments-from-an-activation-strategy",children:[],level:3},{value:"201 Created",id:"201-created-1",children:[],level:3},{value:"403 Forbidden",id:"403-forbidden",children:[],level:3},{value:"404 Not Found",id:"404-not-found-5",children:[],level:3},{value:"Payload structure",id:"payload-structure-1",children:[],level:3}],level:2},{value:"API types",id:"api-types",children:[{value:"Segment",id:"segment-type-description",children:[{value:"Example",id:"example",children:[],level:4},{value:"Description",id:"description",children:[],level:4}],level:3},{value:"Constraint",id:"constraint-type-description",children:[{value:"Example",id:"example-1",children:[],level:4},{value:"Description",id:"description-1",children:[],level:4}],level:3},{value:"Activation strategy",id:"activation-strategy-type-description",children:[{value:"Example",id:"example-2",children:[],level:4},{value:"Description",id:"description-2",children:[],level:4}],level:3}],level:2}],u="api/admin/segments",c=function(e){return u+"/"+e},g={toc:m,basePath:u};function k(e){var t=e.components,n=(0,l.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Availability")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Segments are an ",(0,r.kt)("strong",{parentName:"p"},"experimental feature")," available to some Unleash Pro and Unleash Enterprise users. ",(0,r.kt)("a",{parentName:"p",href:"https://slack.unleash.run"},"Get in touch")," if you'd like to help us develop this feature."))),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"To use the admin API, you'll need to ",(0,r.kt)("a",{parentName:"p",href:"/user_guide/api-token"},"create and use an admin API token"),"."))),(0,r.kt)("p",null,"The segments API lets you create, read, update, and delete ",(0,r.kt)("a",{parentName:"p",href:"/reference/segments"},"segments"),"."),(0,r.kt)("h2",{id:"get-all-segments"},"Get all segments"),(0,r.kt)("p",null,"Retrieve all segments that exist in this Unleash instance. Returns a list of ",(0,r.kt)("a",{parentName:"p",href:"#segment-type-description"},"segment objects"),"."),(0,r.kt)(i.Z,{verb:"Get",url:u,title:"Retrieve all existing segments.",mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"200-ok"},"200 OK"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "id": 1,\n    "name": "my-segment",\n    "description": "a segment description",\n    "constraints": [],\n    "createdBy": "user@example.com",\n    "createdAt": "2022-04-01T14:02:25.491Z"\n  }\n]\n'))),(0,r.kt)("h2",{id:"create-segment"},"Create segment"),(0,r.kt)("p",null,"Create a new segment with the specified configuration."),(0,r.kt)(i.Z,{verb:"post",url:u,title:"Create a new segment.",payload:{name:"my-segment",description:"a segment description",constraints:[]},mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"201-created"},"201 Created"),(0,r.kt)("p",null,"The segment was successfully created. This response has no body."),(0,r.kt)("h3",{id:"400-bad-request"},"400 Bad Request"),(0,r.kt)("p",null,"A segment with the provided name already exists.")),(0,r.kt)("h3",{id:"payload-structure"},"Payload structure"),(0,r.kt)("p",null,"Use a JSON object with the following properties to create a new segment."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the segment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"mobile-users"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"description")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"A description of the segment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"This segment is for users on mobile devices."'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"constraints")),(0,r.kt)("td",{parentName:"tr",align:null},"list of ",(0,r.kt)("a",{parentName:"td",href:"#constraint-type-description"},"constraint objects")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The constraints in this segment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]"))))),(0,r.kt)("h2",{id:"get-segment-by-id"},"Get segment by ID"),(0,r.kt)("p",null,"Retrieves the segment with the specified ID."),(0,r.kt)(i.Z,{verb:"Get",url:c("<segment-id>"),title:"Retrieve the segment with the provided ID.",mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"200-ok-1"},"200 OK"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 1,\n  "name": "my-segment",\n  "description": "a segment description",\n  "constraints": [],\n  "createdBy": "user@example.com",\n  "createdAt": "2022-04-01T14:02:25.491Z"\n}\n')),(0,r.kt)("h3",{id:"404-not-found"},"404 Not Found"),(0,r.kt)("p",null,"No segment with the provided ID exists.")),(0,r.kt)("h2",{id:"update-an-existing-segment"},"Update an existing segment"),(0,r.kt)("p",null,"Replace the data of the specified segment with the provided payload."),(0,r.kt)(i.Z,{verb:"put",url:c("<segment-id>"),title:"Update a segment with new data.",payload:{name:"my-segment",description:"this is a newly provided description.",constraints:[]},mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"204-no-content"},"204 No Content"),(0,r.kt)("p",null,"The update was successful. This response has no body."),(0,r.kt)("h3",{id:"404-not-found-1"},"404 Not Found"),(0,r.kt)("p",null,"No segment with the provided ID exists.")),(0,r.kt)("h2",{id:"delete-a-segment"},"Delete a segment"),(0,r.kt)("p",null,"Delete the request with the specified ID."),(0,r.kt)(i.Z,{verb:"delete",url:c("<segment-id>"),title:"Delete a segment.",mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"204-no-content-1"},"204 No Content"),(0,r.kt)("p",null,"The segment was deleted successfully."),(0,r.kt)("h3",{id:"404-not-found-2"},"404 Not Found"),(0,r.kt)("p",null,"No segment with the provided ID exists."),(0,r.kt)("h3",{id:"409-conflict"},"409 Conflict"),(0,r.kt)("p",null,"The segment is being used by at least one strategy and can not be deleted. To delete the segment, first remove it from any strategies that use it.")),(0,r.kt)("h2",{id:"list-strategies-that-use-a-specific-segment"},"List strategies that use a specific segment"),(0,r.kt)("p",null,"Retrieve all strategies that use the specified segment. Returns a list of ",(0,r.kt)("a",{parentName:"p",href:"#activation-strategy-type-description"},"activation strategy objects"),"."),(0,r.kt)(i.Z,{verb:"Get",url:c("<segment-id>/strategies"),title:"Retrieve all activation strategies that use the specified segment.",mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"200-ok-2"},"200 OK"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "id": "strategy-id",\n    "featureName": "my-feature",\n    "projectId": "my-project",\n    "environment": "development",\n    "strategyName": "my strategy",\n    "parameters": {},\n    "constraints": [],\n    "createdAt": "2022-04-01T14:02:25.491Z"\n  }\n]\n')),(0,r.kt)("h3",{id:"404-not-found-3"},"404 Not Found"),(0,r.kt)("p",null,"No segment with the provided id exists.")),(0,r.kt)("h2",{id:"list-segments-applied-to-a-specific-strategy"},"List segments applied to a specific strategy"),(0,r.kt)("p",null,"Retrieve all segments that are applied to the specified strategy. Returns a list of ",(0,r.kt)("a",{parentName:"p",href:"#segment-type-description"},"segment objects"),"."),(0,r.kt)(i.Z,{verb:"Get",url:c("strategies/<strategy-id>"),title:"Retrieve all segments that are used by the specified strategy.",mdxType:"ApiRequest"}),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"200-ok-3"},"200 OK"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "id": 1,\n    "name": "my-segment",\n    "description": "a segment description",\n    "constraints": [],\n    "createdBy": "user@example.com",\n    "createdAt": "2022-04-01T14:02:25.491Z"\n  }\n]\n')),(0,r.kt)("h3",{id:"404-not-found-4"},"404 Not Found"),(0,r.kt)("p",null,"No strategy with the provided id exists.")),(0,r.kt)("h2",{id:"replace-activation-strategy-segments"},"Replace activation strategy segments"),(0,r.kt)("p",null,"Replace the segments applied to the specified activation strategy with the provided segment list."),(0,r.kt)(i.Z,{verb:"post",url:c("strategies"),title:"Replace the segments to the specified strategy.",payload:{projectId:"my-project",strategyId:"my-strategy",environmentId:"development",segmentIds:[61,62,63,64]},mdxType:"ApiRequest"}),(0,r.kt)("h3",{id:"remove-all-segments-from-an-activation-strategy"},"Remove all segments from an activation strategy"),(0,r.kt)("p",null,"To remove all segments from an activation strategy, use this endpoint and provide an empty list of ",(0,r.kt)("inlineCode",{parentName:"p"},"segmentIds"),'. For instance, the following payload would remove all segments from the strategy "my-strategy".'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "projectId": "my-project",\n  "strategyId": "my-strategy",\n  "environmentId": "development",\n  "segmentIds": []\n}\n')),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Example responses"),(0,r.kt)("h3",{id:"201-created-1"},"201 Created"),(0,r.kt)("p",null,"The strategy's list of segments was successfully updated."),(0,r.kt)("h3",{id:"403-forbidden"},"403 Forbidden"),(0,r.kt)("p",null,"You do not have access to edit this activation strategy."),(0,r.kt)("h3",{id:"404-not-found-5"},"404 Not Found"),(0,r.kt)("p",null,"No strategy with the provided ID exists.")),(0,r.kt)("h3",{id:"payload-structure-1"},"Payload structure"),(0,r.kt)("p",null,"Use a JSON object with the following properties to update the list of applied segments."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"projectId")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The ID of the feature toggle's project."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"my-project"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"strategyId")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The ID of the strategy."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"my-strategy"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"environmentId")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The ID of the environment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"development"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"segmentIds")),(0,r.kt)("td",{parentName:"tr",align:null},"list of segment IDs (numbers)"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The list of segment IDs to apply to the strategy."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]"))))),(0,r.kt)("h2",{id:"api-types"},"API types"),(0,r.kt)("p",null,"This section describes the data objects returned by the endpoints in the segments API. For information on a specific endpoint, refer to its specific description above."),(0,r.kt)("h3",{id:"segment-type-description"},"Segment"),(0,r.kt)("h4",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 12054,\n  "name": "segment name",\n  "description": "segment description",\n  "constraints": [],\n  "createdBy": "you@example.com",\n  "createdAt": "2022-05-23T15:45:22.000Z"\n}\n')),(0,r.kt)("h4",{id:"description"},"Description"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"id")),(0,r.kt)("td",{parentName:"tr",align:null},"number"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The segment's ID."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"546"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"name")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The segment's name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"my-segment"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"description")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"An optional description of the segment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"segment description"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"constraints")),(0,r.kt)("td",{parentName:"tr",align:null},"list of ",(0,r.kt)("a",{parentName:"td",href:"#constraint-type-description"},"constraint objects")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The list of constraint objects in the segment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"createdBy")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"An identifier for who created the segment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"you@example.com"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"createdAt")),(0,r.kt)("td",{parentName:"tr",align:null},"timestamp string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The time when the segment was created. Format: ",(0,r.kt)("inlineCode",{parentName:"td"},"YYYY-MM-DDThh:mm:ss.sTZD")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"2022-04-23T13:56:24.45+01:00"'))))),(0,r.kt)("h3",{id:"constraint-type-description"},"Constraint"),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "contextName": "appName",\n    "operator": "STR_CONTAINS",\n    "values": [],\n    "inverted": false,\n    "caseInsensitive": false\n}\n')),(0,r.kt)("h4",{id:"description-1"},"Description"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),(0,r.kt)("inlineCode",{parentName:"h5"},"values")," and ",(0,r.kt)("inlineCode",{parentName:"h5"},"value"))),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Some constraint operators only support single values. If a constraint uses one of these operators, the payload will contain a ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," property with the correct value. However, for backwards compatibility reasons, the payload will ",(0,r.kt)("em",{parentName:"p"},"also")," contain a ",(0,r.kt)("inlineCode",{parentName:"p"},"values")," property. If the operator accepts multiple values, the ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," property will not be present. Visit the ",(0,r.kt)("a",{parentName:"p",href:"/advanced/strategy_constraints"},"strategy constraints documentation")," for more information on what operators support what number of values."))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"contextName")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the context field targeted by the constraint."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"myContextField"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"operator")),(0,r.kt)("td",{parentName:"tr",align:null},"string, the name of one of the ",(0,r.kt)("a",{parentName:"td",href:"/advanced/strategy_constraints"},"constraint operators")),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The operator to apply to the context field."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"DATE_BEFORE"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"values")),(0,r.kt)("td",{parentName:"tr",align:null},"a list of strings"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The list of values to apply the constraint operator to."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'["value a", "value b"]'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"value")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"The value to apply the constraint operator to."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"15"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"inverted")),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Whether the result of ",(0,r.kt)("a",{parentName:"td",href:"/advanced/strategy_constraints#constraint-negation"},"the constraint will be negated or not"),"."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"caseInsensitive")),(0,r.kt)("td",{parentName:"tr",align:null},"boolean string"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Whether the constraint operator is case sensitive or not. Only ",(0,r.kt)("a",{parentName:"td",href:"/advanced/strategy_constraints#string-operators"},"applies to some string-based operators"),"."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))))),(0,r.kt)("h3",{id:"activation-strategy-type-description"},"Activation strategy"),(0,r.kt)("h4",{id:"example-2"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "64fbe72b-d107-4b26-b6b8-4fead08d286c",\n  "environment": "development",\n  "featureName": "my-feature",\n  "projectId": "my-project",\n  "strategyName": "flexibleRollout"\n}\n')),(0,r.kt)("h4",{id:"description-2"},"Description"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"id")),(0,r.kt)("td",{parentName:"tr",align:null},"GUID string"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"The ID of the strategy."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"64fbe72b-d107-4b26-b6b8-4fead08d286c"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"environment")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the strategy's environment."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"development"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"featureName")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the feature the strategy is applied to."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"my-feature"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"projectId")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the current project."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"my-project"'))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"strategyName")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"The name of the strategy."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"flexibleRollout"'))))))}k.isMDXComponent=!0}}]);