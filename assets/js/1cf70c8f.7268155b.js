"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[204],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),s=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=s(n),c=r,k=m["".concat(u,".").concat(c)]||m[c]||p[c]||l;return n?a.createElement(k,i(i({ref:t},d),{},{components:n})):a.createElement(k,i({ref:t},d))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2542:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const l={id:"ruby_sdk",title:"Ruby SDK"},i=void 0,o={unversionedId:"sdks/ruby_sdk",id:"sdks/ruby_sdk",title:"Ruby SDK",description:"You will need your API URL and your API token in order to connect the Client SDK to you Unleash instance. You can find this information in the \u201cAdmin\u201d section Unleash management UI. Read more",source:"@site/docs/sdks/ruby.md",sourceDirName:"sdks",slug:"/sdks/ruby_sdk",permalink:"/sdks/ruby_sdk",draft:!1,editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/sdks/ruby.md",tags:[],version:"current",frontMatter:{id:"ruby_sdk",title:"Ruby SDK"},sidebar:"documentation",previous:{title:"Python SDK",permalink:"/sdks/python_sdk"},next:{title:".NET SDK",permalink:"/sdks/dot_net_sdk"}},u={},s=[{value:"Sample usage",id:"sample-usage",level:3},{value:"Variations",id:"variations",level:3},{value:"Client methods",id:"client-methods",level:2}],d={toc:s};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You will need your ",(0,r.kt)("inlineCode",{parentName:"p"},"API URL")," and your ",(0,r.kt)("inlineCode",{parentName:"p"},"API token")," in order to connect the Client SDK to you Unleash instance. You can find this information in the \u201cAdmin\u201d section Unleash management UI. ",(0,r.kt)("a",{parentName:"p",href:"../user_guide/api-token"},"Read more"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},"require 'unleash'\n\n@unleash = Unleash::Client.new(\n  url: '<API url>',\n  app_name: 'simple-test',\n  custom_http_headers: {'Authorization': '<API token>'},\n)\n")),(0,r.kt)("h3",{id:"sample-usage"},"Sample usage"),(0,r.kt)("p",null,"To evaluate a feature toggle, you can use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},'if @unleash.is_enabled? "AwesomeFeature", @unleash_context\n  puts "AwesomeFeature is enabled"\nend\n')),(0,r.kt)("p",null,"If the feature is not found in the server, it will by default return false. However you can override that by setting the default return value to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},'if @unleash.is_enabled? "AwesomeFeature", @unleash_context, true\n  puts "AwesomeFeature is enabled by default"\nend\n')),(0,r.kt)("p",null,"Alternatively by using ",(0,r.kt)("inlineCode",{parentName:"p"},"if_enabled")," you can send a code block to be executed as a parameter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},'@unleash.if_enabled "AwesomeFeature", @unleash_context, true do\n  puts "AwesomeFeature is enabled by default"\nend\n')),(0,r.kt)("h3",{id:"variations"},"Variations"),(0,r.kt)("p",null,"If no variant is found in the server, use the fallback variant."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ruby"},'fallback_variant = Unleash::Variant.new(name: \'default\', enabled: true, payload: {"color" => "blue"})\nvariant = @unleash.get_variant "ColorVariants", @unleash_context, fallback_variant\n\nputs "variant color is: #{variant.payload.fetch(\'color\')}"\n')),(0,r.kt)("h2",{id:"client-methods"},"Client methods"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Method Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Return Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"is_enabled?")),(0,r.kt)("td",{parentName:"tr",align:null},"Check if feature toggle is to be enabled or not."),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"enabled?")),(0,r.kt)("td",{parentName:"tr",align:null},"Alias to the ",(0,r.kt)("inlineCode",{parentName:"td"},"is_enabled?")," method. But more ruby idiomatic."),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"if_enabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Run a code block, if a feature is enabled."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yield"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"get_variant")),(0,r.kt)("td",{parentName:"tr",align:null},"Get variant for a given feature"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Unleash::Variant"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown")),(0,r.kt)("td",{parentName:"tr",align:null},"Save metrics to disk, flush metrics to server, and then kill ToggleFetcher and MetricsReporter threads. A safe shutdown. Not really useful in long running applications, like web applications."),(0,r.kt)("td",{parentName:"tr",align:null},"nil")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown!")),(0,r.kt)("td",{parentName:"tr",align:null},"Kill ToggleFetcher and MetricsReporter threads immediately."),(0,r.kt)("td",{parentName:"tr",align:null},"nil")))),(0,r.kt)("p",null,"Read more at ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unleash/unleash-client-ruby"},"github.com/Unleash/unleash-client-ruby")))}p.isMDXComponent=!0}}]);