"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[5806],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>d});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=a.createContext({}),s=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=s(e.components);return a.createElement(p.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),h=s(t),d=o,m=h["".concat(p,".").concat(d)]||h[d]||c[d]||r;return t?a.createElement(m,l(l({ref:n},u),{},{components:t})):a.createElement(m,l({ref:n},u))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,l=new Array(r);l[0]=h;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var s=2;s<r;s++)l[s]=t[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},2905:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(7294),o=t(6010);const r="tabItem_Ymn6";function l(e){let{children:n,hidden:t,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r,l),hidden:t},n)}},8403:(e,n,t)=>{t.d(n,{Z:()=>d});var a=t(7462),o=t(7294),r=t(6010),l=t(2389),i=t(7392),p=t(7094),s=t(2466);const u="tabList__CuJ",c="tabItem_LNqP";function h(e){var n,t;const{lazy:l,block:h,defaultValue:d,values:m,groupId:b,className:v}=e,f=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=m?m:f.map((e=>{let{props:{value:n,label:t,attributes:a}}=e;return{value:n,label:t,attributes:a}})),y=(0,i.l)(g,((e,n)=>e.value===n.value));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const k=null===d?d:null!=(n=null!=d?d:null==(t=f.find((e=>e.props.default)))?void 0:t.props.value)?n:f[0].props.value;if(null!==k&&!g.some((e=>e.value===k)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+g.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:w,setTabGroupChoices:O}=(0,p.U)(),[I,x]=(0,o.useState)(k),A=[],{blockElementScrollPositionUntilNextRender:N}=(0,s.o5)();if(null!=b){const e=w[b];null!=e&&e!==I&&g.some((n=>n.value===e))&&x(e)}const P=e=>{const n=e.currentTarget,t=A.indexOf(n),a=g[t].value;a!==I&&(N(n),x(a),null!=b&&O(b,String(a)))},E=e=>{var n;let t=null;switch(e.key){case"ArrowRight":{var a;const n=A.indexOf(e.currentTarget)+1;t=null!=(a=A[n])?a:A[0];break}case"ArrowLeft":{var o;const n=A.indexOf(e.currentTarget)-1;t=null!=(o=A[n])?o:A[A.length-1];break}}null==(n=t)||n.focus()};return o.createElement("div",{className:(0,r.Z)("tabs-container",u)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":h},v)},g.map((e=>{let{value:n,label:t,attributes:l}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:I===n?0:-1,"aria-selected":I===n,key:n,ref:e=>A.push(e),onKeyDown:E,onFocus:P,onClick:P},l,{className:(0,r.Z)("tabs__item",c,null==l?void 0:l.className,{"tabs__item--active":I===n})}),null!=t?t:n)}))),l?(0,o.cloneElement)(f.filter((e=>e.props.value===I))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},f.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==I})))))}function d(e){const n=(0,l.Z)();return o.createElement(h,(0,a.Z)({key:String(n)},e))}},9709:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>p,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=t(7462),o=(t(7294),t(3905)),r=t(8403),l=t(2905);const i={title:"How to enable OpenAPI and the Swagger UI"},p=void 0,s={unversionedId:"how-to/how-to-enable-openapi",id:"how-to/how-to-enable-openapi",title:"How to enable OpenAPI and the Swagger UI",description:"OpenAPI schemas were introduced in v4.13.0 of Unleash and v0.10.0 of the Unleash proxy.",source:"@site/docs/how-to/how-to-enable-openapi.mdx",sourceDirName:"how-to",slug:"/how-to/how-to-enable-openapi",permalink:"/how-to/how-to-enable-openapi",draft:!1,editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/how-to/how-to-enable-openapi.mdx",tags:[],version:"current",frontMatter:{title:"How to enable OpenAPI and the Swagger UI"},sidebar:"documentation",previous:{title:"How to use the Admin API",permalink:"/advanced/api_access"},next:{title:"Unleash Proxy guides",permalink:"/how-to/proxy"}},u={},c=[{value:"Location of the OpenAPI spec",id:"location-of-the-openapi-spec",level:2},{value:"Step 1: enable OpenAPI",id:"step-1-enable-openapi",level:2},{value:"Enable OpenAPI via environment variables",id:"enable-openapi-via-environment-variables",level:3},{value:"Enable OpenAPI via configuration options",id:"enable-openapi-via-configuration-options",level:3}],h={toc:c};function d(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},h,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Availability",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"OpenAPI schemas were introduced in v4.13.0 of Unleash and v0.10.0 of the Unleash proxy.")),(0,o.kt)("p",null,"Both Unleash and the Unleash proxy have included OpenAPI schemas and Swagger UIs for their APIs. The schemas can be used to get an overview over all API operations and to generate API clients using OpenAPI client generators. The Swagger UI lets you see and try out all the available API operations directly in your browser."),(0,o.kt)("p",null,"To enable the OpenAPI documentation and the Swagger UI, you must start Unleash or the proxy with the correct configuration option. The following section shows you how. The methods are the same for both Unleash and the Unleash proxy, so the steps described in the next section will work for either."),(0,o.kt)("h2",{id:"location-of-the-openapi-spec"},"Location of the OpenAPI spec"),(0,o.kt)("p",null,"Once you enable OpenAPI, you can find the specification in JSON format at ",(0,o.kt)("inlineCode",{parentName:"p"},"/docs/openapi.json")," and the swagger UI at ",(0,o.kt)("inlineCode",{parentName:"p"},"/docs/openapi"),"."),(0,o.kt)("p",null,"For instance, if you're running the Unleash server locally at ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:4242"),", then"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"the JSON specification will be at ",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:4242/docs/openapi.json")),(0,o.kt)("li",{parentName:"ul"},"the Swagger UI will be at ",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:4242/docs/openapi"))),(0,o.kt)("p",null,"Similarly, if you're running the Unleash proxy locally at ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:3000")," (so that the proxy endpoint is at ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:3000/proxy"),"), then"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"the JSON specification will be at ",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:3000/docs/openapi.json")),(0,o.kt)("li",{parentName:"ul"},"the Swagger UI will be at ",(0,o.kt)("inlineCode",{parentName:"li"},"http://localhost:3000/docs/openapi"))),(0,o.kt)("h2",{id:"step-1-enable-openapi"},"Step 1: enable OpenAPI"),(0,o.kt)("p",null,"The OpenAPI spec and the Swagger UI can be turned on either via environment variables or via configuration options. Configuration options take precedence over environment variables."),(0,o.kt)("h3",{id:"enable-openapi-via-environment-variables"},"Enable OpenAPI via environment variables"),(0,o.kt)("p",null,"To turn on OpenAPI via environment variables, set the ",(0,o.kt)("inlineCode",{parentName:"p"},"ENABLE_OAS")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," in the environment you're running the server in."),(0,o.kt)(r.Z,{groupId:"openapi-env-configuration",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"bash",label:"Environment variable (bash)",default:!0,mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Enable OpenAPI via an environment variable"',title:'"Enable',OpenAPI:!0,via:!0,an:!0,environment:!0,'variable"':!0},"export ENABLE_OAS=true\n"))),(0,o.kt)(l.Z,{value:"docker-unleash",label:"Docker (Unleash)",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Enable OpenAPI for Unleash via Docker"',title:'"Enable',OpenAPI:!0,for:!0,Unleash:!0,via:!0,'Docker"':!0},"docker run \\\n    // highlight-next-line\n    -e ENABLE_OAS=true \\ # other variables omitted for brevity\n    unleashorg/unleash-server\n"))),(0,o.kt)(l.Z,{value:"docker-proxy",label:"Docker (Unleash proxy)",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Enable OpenAPI for the Unleash proxy via Docker"',title:'"Enable',OpenAPI:!0,for:!0,the:!0,Unleash:!0,proxy:!0,via:!0,'Docker"':!0},"docker run \\\n    // highlight-next-line\n    -e ENABLE_OAS=true \\ # other variables omitted for brevity\n    unleashorg/unleash-proxy\n")))),(0,o.kt)("h3",{id:"enable-openapi-via-configuration-options"},"Enable OpenAPI via configuration options"),(0,o.kt)("p",null,"The configuration option for enabling OpenAPI and the swagger UI is ",(0,o.kt)("inlineCode",{parentName:"p"},"enableOAS"),". Set this option to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,o.kt)("p",null,"The following examples have been shortened to show the only the relevant configuration options. For more detailed instructions on how to run Unleash or the proxy, refer to ",(0,o.kt)("a",{parentName:"p",href:"/how-to/how-to-run-the-unleash-proxy"},"how to run the Unleash proxy")," or the ",(0,o.kt)("a",{parentName:"p",href:"/deploy/getting_started#option-three---from-nodejs"},"section on running Unleash via Node.js from the deployment section")," of the documentation."),(0,o.kt)(r.Z,{groupId:"openapi-configuration",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"unleash",label:"Unleash",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Enable OpenAPI for Unleash via configuration option"',title:'"Enable',OpenAPI:!0,for:!0,Unleash:!0,via:!0,configuration:!0,'option"':!0},"const unleash = require('unleash-server');\n\nunleash\n    .start({\n        // ... Other options elided for brevity\n        // highlight-next-line\n        enableOAS: true,\n    })\n    .then((unleash) => {\n        console.log(\n            `Unleash started on http://localhost:${unleash.app.get('port')}`,\n        );\n    });\n"))),(0,o.kt)(l.Z,{value:"proxy",label:"Unleash proxy",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Enable OpenAPI for the Unleash proxy via configuration"',title:'"Enable',OpenAPI:!0,for:!0,the:!0,Unleash:!0,proxy:!0,via:!0,'configuration"':!0},"const port = 3000;\n\nconst { createApp } = require('@unleash/proxy');\n\nconst app = createApp({\n    // ... Other options elided for brevity\n    // highlight-next-line\n    enableOAS: true,\n});\n\napp.listen(port, () =>\n    console.log(`Unleash Proxy listening on http://localhost:${port}/proxy`),\n);\n")))))}d.isMDXComponent=!0}}]);