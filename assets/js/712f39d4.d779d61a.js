"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[6351],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),u=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=u(e.components);return a.createElement(c.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(t),m=r,f=d["".concat(c,".").concat(m)]||d[m]||s[m]||l;return t?a.createElement(f,i(i({ref:n},p),{},{components:t})):a.createElement(f,i({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=d;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=t[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7622:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var a=t(7462),r=(t(7294),t(3905));const l={id:"python_sdk",title:"Python SDK"},i=void 0,o={unversionedId:"sdks/python_sdk",id:"sdks/python_sdk",title:"Python SDK",description:"You will need your API URL and your API token in order to connect the Client SDK to you Unleash instance. You can find this information in the \u201cAdmin\u201d section Unleash management UI. Read more",source:"@site/docs/sdks/python.md",sourceDirName:"sdks",slug:"/sdks/python_sdk",permalink:"/sdks/python_sdk",editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/sdks/python.md",tags:[],version:"current",frontMatter:{id:"python_sdk",title:"Python SDK"},sidebar:"documentation",previous:{title:"PHP SDK",permalink:"/sdks/php_sdk"},next:{title:"Ruby SDK",permalink:"/sdks/ruby_sdk"}},c=[{value:"Checking if a feature is enabled",id:"checking-if-a-feature-is-enabled",children:[],level:2},{value:"Getting a variant",id:"getting-a-variant",children:[],level:2}],u={toc:c};function p(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You will need your ",(0,r.kt)("inlineCode",{parentName:"p"},"API URL")," and your ",(0,r.kt)("inlineCode",{parentName:"p"},"API token")," in order to connect the Client SDK to you Unleash instance. You can find this information in the \u201cAdmin\u201d section Unleash management UI. ",(0,r.kt)("a",{parentName:"p",href:"../user_guide/api-token"},"Read more"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from UnleashClient import UnleashClient\n\n    client = UnleashClient(\n        url="<API url>",\n        app_name="my-python-app",\n        custom_headers={\'Authorization\': \'<API token>\'})\n\n    client.initialize_client()\n\n    client.is_enabled("unleash.beta.variants")\n')),(0,r.kt)("h2",{id:"checking-if-a-feature-is-enabled"},"Checking if a feature is enabled"),(0,r.kt)("p",null,"A check of a simple toggle:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'client.is_enabled("my_toggle")\n')),(0,r.kt)("p",null,"Specifying a default value:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'client.is_enabled("my_toggle", default_value=True)\n')),(0,r.kt)("p",null,"Supplying application context:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'app_context = {"userId": "test@email.com"}\nclient.is_enabled("user_id_toggle", app_context)\n')),(0,r.kt)("p",null,"Supplying a fallback function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'def custom_fallback(feature_name: str, context: dict) -> bool:\n    return True\n\nclient.is_enabled("my_toggle", fallback_function=custom_fallback)\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Must accept the feature name and context as an argument."),(0,r.kt)("li",{parentName:"ul"},"Client will evaluate the fallback function only if exception occurs when calling the ",(0,r.kt)("inlineCode",{parentName:"li"},"is_enabled()")," method i.e. feature flag not found or other general exception."),(0,r.kt)("li",{parentName:"ul"},"If both a ",(0,r.kt)("inlineCode",{parentName:"li"},"default_value")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"fallback_function")," are supplied, client will define the default value by ",(0,r.kt)("inlineCode",{parentName:"li"},"OR"),"ing the default value and the output of the fallback function.")),(0,r.kt)("h2",{id:"getting-a-variant"},"Getting a variant"),(0,r.kt)("p",null,"Checking for a variant:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'context = {\'userId\': \'2\'}  # Context must have userId, sessionId, or remoteAddr.  If none are present, distribution will be random.\n\nvariant = client.get_variant("my_variant_toggle", context)\n\nprint(variant)\n> {\n>    "name": "variant1",\n>    "payload": {\n>        "type": "string",\n>        "value": "val1"\n>        },\n>    "enabled": True\n> }\n')),(0,r.kt)("p",null,"Read more at ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unleash/unleash-client-python"},"github.com/Unleash/unleash-client-python")))}p.isMDXComponent=!0}}]);