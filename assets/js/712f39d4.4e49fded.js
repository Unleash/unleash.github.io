"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[6351],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=s(n),f=r,h=d["".concat(c,".").concat(f)]||d[f]||p[f]||l;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7622:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const l={id:"python_sdk",title:"Python SDK"},i=void 0,o={unversionedId:"sdks/python_sdk",id:"sdks/python_sdk",title:"Python SDK",description:"You will need your API URL and your API token in order to connect the Client SDK to you Unleash instance. You can find this information in the \u201cAdmin\u201d section Unleash management UI. Read more",source:"@site/docs/sdks/python.md",sourceDirName:"sdks",slug:"/sdks/python_sdk",permalink:"/sdks/python_sdk",editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/sdks/python.md",tags:[],version:"current",frontMatter:{id:"python_sdk",title:"Python SDK"},sidebar:"documentation",previous:{title:"PHP SDK",permalink:"/sdks/php_sdk"},next:{title:"Ruby SDK",permalink:"/sdks/ruby_sdk"}},c=[{value:"Checking if a feature is enabled",id:"checking-if-a-feature-is-enabled",children:[{value:"Fallback function and default values",id:"fallback-function-and-default-values",children:[],level:3}],level:2},{value:"Getting a variant",id:"getting-a-variant",children:[],level:2}],s={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You will need your ",(0,r.kt)("inlineCode",{parentName:"p"},"API URL")," and your ",(0,r.kt)("inlineCode",{parentName:"p"},"API token")," in order to connect the Client SDK to you Unleash instance. You can find this information in the \u201cAdmin\u201d section Unleash management UI. ",(0,r.kt)("a",{parentName:"p",href:"../user_guide/api-token"},"Read more"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'from UnleashClient import UnleashClient\n\nclient = UnleashClient(\n    url="<API url>",\n    app_name="my-python-app",\n    custom_headers={\'Authorization\': \'<API token>\'})\n\nclient.initialize_client()\n\nclient.is_enabled("unleash.beta.variants")\n')),(0,r.kt)("h2",{id:"checking-if-a-feature-is-enabled"},"Checking if a feature is enabled"),(0,r.kt)("p",null,"Check a feature's status:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Python",metastring:'title="Check whether a feature is enabled"',title:'"Check',whether:!0,a:!0,feature:!0,is:!0,'enabled"':!0},'client.is_enabled("my_toggle")\n')),(0,r.kt)("p",null,"To supply application context, use the second positional argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Python",metastring:'title="Check whether a feature is enabled for the given context"',title:'"Check',whether:!0,a:!0,feature:!0,is:!0,enabled:!0,for:!0,the:!0,given:!0,'context"':!0},'app_context = {"userId": "test@email.com"}\nclient.is_enabled("user_id_toggle", app_context)\n')),(0,r.kt)("h3",{id:"fallback-function-and-default-values"},"Fallback function and default values"),(0,r.kt)("p",null,"You can specify a fallback function for cases where the client doesn't recognize the toggle by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"fallback_function")," keyword argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Python",metastring:'title="Check a feature status, using a fallback if the feature is unrecognized."',title:'"Check',a:!0,feature:!0,"status,":!0,using:!0,fallback:!0,if:!0,the:!0,is:!0,'unrecognized."':!0},'def custom_fallback(feature_name: str, context: dict) -> bool:\n    return True\n\nclient.is_enabled("my_toggle", fallback_function=custom_fallback)\n')),(0,r.kt)("p",null,"You can also use the ",(0,r.kt)("inlineCode",{parentName:"p"},"fallback_function")," argument to replace the obsolete ",(0,r.kt)("inlineCode",{parentName:"p"},"default_value")," keyword argument by using a lambda that ignores its inputs. Whatever the lambda returns will be used as the default value."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-Python",metastring:'title="Use fallback_function to provide a default value"',title:'"Use',fallback_function:!0,to:!0,provide:!0,a:!0,default:!0,'value"':!0},'client.is_enabled("my_toggle", fallback_function=lambda feature_name, context: True)\n')),(0,r.kt)("p",null,"The fallback function ",(0,r.kt)("strong",{parentName:"p"},"must")," accept the feature name and context as positional arguments in that order."),(0,r.kt)("p",null,"The client will evaluate the fallback function only if an exception occurs when calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"is_enabled()")," method. This happens when the client can't find the feature flag. The client ",(0,r.kt)("em",{parentName:"p"},"may")," also throw other, general exceptions."),(0,r.kt)("h2",{id:"getting-a-variant"},"Getting a variant"),(0,r.kt)("p",null,"Checking for a variant:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'context = {\'userId\': \'2\'}  # Context must have userId, sessionId, or remoteAddr.  If none are present, distribution will be random.\n\nvariant = client.get_variant("my_variant_toggle", context)\n\nprint(variant)\n> {\n>    "name": "variant1",\n>    "payload": {\n>        "type": "string",\n>        "value": "val1"\n>        },\n>    "enabled": True\n> }\n')),(0,r.kt)("p",null,"Read more at ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Unleash/unleash-client-python"},"github.com/Unleash/unleash-client-python")))}u.isMDXComponent=!0}}]);