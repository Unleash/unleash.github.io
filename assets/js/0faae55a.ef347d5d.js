"use strict";(self.webpackChunkwebsitev_2=self.webpackChunkwebsitev_2||[]).push([[40764],{41391:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var a=n(87462),o=(n(67294),n(3905));const r={title:"My feature flag is not returned in the Frontend API/Edge/Proxy"},i=void 0,s={unversionedId:"using-unleash/troubleshooting/flag-not-returned",id:"using-unleash/troubleshooting/flag-not-returned",title:"My feature flag is not returned in the Frontend API/Edge/Proxy",description:"By default, these endpoints will not return feature flags that are not enabled. This is mainly to save on bandwidth but it makes it a bit difficult to debug when features are not being returned.",source:"@site/docs/using-unleash/troubleshooting/flag-not-returned.md",sourceDirName:"using-unleash/troubleshooting",slug:"/using-unleash/troubleshooting/flag-not-returned",permalink:"/using-unleash/troubleshooting/flag-not-returned",draft:!1,editUrl:"https://github.com/Unleash/unleash/edit/main/website/docs/using-unleash/troubleshooting/flag-not-returned.md",tags:[],version:"current",frontMatter:{title:"My feature flag is not returned in the Frontend API/Edge/Proxy"},sidebar:"documentation",previous:{title:"My feature flag is enabled but all/some of our users are not exposed to it",permalink:"/using-unleash/troubleshooting/flag-exposure"},next:{title:"Unleash Edge",permalink:"/reference/unleash-edge"}},l={},u=[],d={toc:u};function h(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"By default, these endpoints will not return feature flags that are not enabled. This is mainly to save on bandwidth but it makes it a bit difficult to debug when features are not being returned. "),(0,o.kt)("p",null,"The first thing to look into is to validate that the feature is well configured and then check the token used from the SDK because it determines the set of accessible features. Last, verify that the context you're providing contains all the required data."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Check that the feature is properly enabled: ",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Verify that the feature has a strategy associated to it that will return true for your context (ref: ",(0,o.kt)("a",{parentName:"li",href:"/how-to/how-to-create-feature-toggles#step-2"},"add a strategy"),")"),(0,o.kt)("li",{parentName:"ol"},"Verify that the feature has been enabled in the environment used by the client application (ref: ",(0,o.kt)("a",{parentName:"li",href:"/how-to/how-to-create-feature-toggles#step-3"},"enabling a feature flag"),")"))),(0,o.kt)("li",{parentName:"ol"},"Check that your token is of the right ",(0,o.kt)("a",{parentName:"li",href:"/reference/api-tokens-and-client-keys"},"type"),". To connect to the Frontend API, Edge or Proxy, you need to use a ",(0,o.kt)("a",{parentName:"li",href:"/reference/api-tokens-and-client-keys#front-end-tokens"},"Front-end token")),(0,o.kt)("li",{parentName:"ol"},"Check that your token has access to the feature flag. The ",(0,o.kt)("strong",{parentName:"li"},"token access configuration is immutable post-creation")," and defines the set of features that the token can access. The different ",(0,o.kt)("a",{parentName:"li",href:"/reference/api-tokens-and-client-keys#version-2"},"parts of a token")," determine what projects and environment can be accessed:",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Access to all projects (current and future)")," - Tokens with a leading asterisk will provide access to all projects in a particular environment. For example, the token ",(0,o.kt)("inlineCode",{parentName:"li"},"*:production:xyz123etc...")," will provide access to flags in the production environment of all projects."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Access to a discrete list of projects")," - Tokens with a leading set of square brackets (empty) will be given access to a subset of projects in a particular environment. The token will look similar to the following: ",(0,o.kt)("inlineCode",{parentName:"li"},"[]:production:xyz123etc..."),". Which projects the token has access to can be found on the API Tokens page in the Unleash admin UI."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Single project access")," - Tokens that lead with a project name are bound to the specified project and environment. For example, ",(0,o.kt)("inlineCode",{parentName:"li"},"my_fullstack_app:production:xyz123etc..."),' will only have access to flags in the "my_fullstack_app" project as set in the production environment.'))),(0,o.kt)("li",{parentName:"ol"},"When using a ",(0,o.kt)("strong",{parentName:"li"},"gradual rollout")," strategy, be mindful of the ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("a",{parentName:"strong",href:"/reference/stickiness"},"stickiness"))," value. When evaluating a flag, if the provided context does not include the field used in the stickiness configuration, the gradual rollout strategy will be evaluated to ",(0,o.kt)("inlineCode",{parentName:"li"},"false")," and therefore it will not be returned by the API."),(0,o.kt)("li",{parentName:"ol"},"Feature activation strategies may have constraints, segments, and rules that can be combined in different ways that can lead to complex scenarios. Try using the ",(0,o.kt)("a",{parentName:"li",href:"/reference/playground"},"Playground")," to verify that the feature is properly configured and responding as expected.")))}h.isMDXComponent=!0}}]);