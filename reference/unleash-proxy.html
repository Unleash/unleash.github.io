<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-generated/unleash-proxy">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Unleash Proxy | Unleash</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.getunleash.io/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://docs.getunleash.io/img/logo.png"><meta data-rh="true" property="og:url" content="https://docs.getunleash.io/reference/unleash-proxy"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unleash Proxy | Unleash"><meta data-rh="true" name="description" content="This document was generated from the README in the Unleash Proxy GitHub repository."><meta data-rh="true" property="og:description" content="This document was generated from the README in the Unleash Proxy GitHub repository."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.getunleash.io/reference/unleash-proxy"><link data-rh="true" rel="alternate" href="https://docs.getunleash.io/reference/unleash-proxy" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.getunleash.io/reference/unleash-proxy" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5U05JI5NE1-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-134882379-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-KV5PRR2",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Unleash" href="/opensearch.xml">






<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="1d187510-1726-4011-b0f7-62742ae064ee" data-project-name="Unleash" data-project-color="#1A4049" data-project-logo="https://cdn.getunleash.io/uploads/2022/05/logo.png" async></script><link rel="stylesheet" href="/assets/css/styles.3298b62a.css">
<link rel="preload" href="/assets/js/runtime~main.3e0a6447.js" as="script">
<link rel="preload" href="/assets/js/main.90d8f9bf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KV5PRR2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Join our <a target="_blank" href="https://www.getunleash.io/new-year-community-party?ref=docs">New Year Unleash Community Party</a> on January 9!</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Unleash</b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.getunleash.io/plans" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Unleash Enterprise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Unleash/unleash" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Unleash GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/unleash-academy/introduction">Unleash Academy</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash Academy&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/topics">Feature Flag Best Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Feature Flag Best Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/feature-flag-tutorials">Feature Flag Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Feature Flag Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/understanding-unleash">Understanding Unleash</a><button aria-label="Toggle the collapsible sidebar category &#x27;Understanding Unleash&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/understanding-unleash/unleash-overview">Unleash introductory overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/understanding-unleash/the-anatomy-of-unleash">The Anatomy of Unleash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/understanding-unleash/managing-constraints">Managing constraints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/understanding-unleash/proxy-hosting">Edge &amp; Proxy hosting strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/understanding-unleash/data-collection">Data collection</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference">Unleash Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/using-unleash">Using Unleash</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using Unleash&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/api/unleash">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/sdks">Application SDKs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Application SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to">How-to guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/using-unleash/deploy">Self-Hosting Unleash</a><button aria-label="Toggle the collapsible sidebar category &#x27;Self-Hosting Unleash&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/using-unleash/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unleash-edge">Unleash Edge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference/unleash-proxy">Unleash Proxy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/contributing">Contributing to Unleash</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contributing to Unleash&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/using-unleash"><span itemprop="name">Using Unleash</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Unleash Proxy</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Unleash Proxy</h1></header><div class="row"><div class="col col--12"><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Generated content</div><div class="admonitionContent_S0QG"><p>This document was generated from the README in the <a href="https://github.com/Unleash/unleash-proxy" target="_blank" rel="noopener noreferrer">Unleash Proxy GitHub repository</a>.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Looking for how to run the Unleash proxy? Check out the <a href="/how-to/how-to-run-the-unleash-proxy"><em>how to run the Unleash proxy</em> guide</a>!</p></div></div><p><a href="https://github.com/Unleash/unleash-proxy/actions/workflows/node.js.yml" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://github.com/Unleash/unleash-proxy/workflows/Node.js%20CI/badge.svg?branch=main" alt="Build &amp; Tests" class="img_ev3q"></a> <a href="https://www.npmjs.com/package/@unleash/proxy" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/npm/v/@unleash/proxy" alt="npm" class="img_ev3q"></a> <a href="https://hub.docker.com/r/unleashorg/unleash-proxy" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/docker/pulls/unleashorg/unleash-proxy" alt="Docker Pulls" class="img_ev3q"></a></p><h1>The Unleash Proxy</h1><p>The Unleash proxy offers a way to use Unleash in client-side applications, such as single-page and native apps.</p><blockquote><p><strong>Note:</strong> You might want to consider using <a href="https://www.unleash-hosted.com/edge" target="_blank" rel="noopener noreferrer">Unleash Edge</a> instead.</p></blockquote><p>The Unleash proxy sits between the Unleash API and your client-side SDK and does the evaluation of feature toggles for your client-side SDK. This way, you can keep your configuration private and secure, while still allowing your client-side apps to use Unleash&#x27;s features.</p><p>The proxy offers three important features:</p><ul><li><strong>Performance</strong>: The caches all features in memory and can run close to your end-users. A single instance can able to handle thousands of requests per second, and you can easily scale it by adding additional instances.</li><li><strong>Security</strong>: The proxy evaluates the features for the user on the server-side and by default only exposes results for features that are <strong>enabled</strong> for the specific user. No feature toggle configuration is ever shared with the user.</li><li><strong>Privacy</strong>: If you run the proxy yourself, Unleash will never get any data on your end-users: no user ids, no IPs, no nothing.</li></ul><figure><img loading="lazy" src="https://raw.githubusercontent.com/Unleash/unleash-proxy/main/./.github/img/connection-overview.svg" class="img_ev3q"><figcaption>Client-side apps connect to the Unleash proxy, which in turn connects to the Unleash API. The proxy itself uses the Unleash Node.js SDK to evaluate features. The SDK syncs with Unleash in the background. Local evaluation on the proxy provides privacy.</figcaption></figure><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-on-privacy-and-the-proxy">A note on privacy and the proxy<a href="#a-note-on-privacy-and-the-proxy" class="hash-link" aria-label="Direct link to A note on privacy and the proxy" title="Direct link to A note on privacy and the proxy">​</a></h2><p>Why would you not want to expose your Unleash configuration to your end-users?</p><p>The way Unleash works, you can add all kinds of data to feature strategies and constraints. For instance, you might show a feature only to a specific subset of user IDs; or you might have a brand new and unannounced new feature with a revealing name.</p><p>If you just sent the regular Unleash client payload to your client-side apps, all of this — the user IDs and the new feature names — would be exposed to your users.</p><p>Single page apps work in the context of a specific user. The proxy allows you to only provide data that relates to that one user: <strong>The proxy will default to only returning the evaluated toggles that should be enabled for that <em>specific</em> user in that <em>specific</em> context.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a href="#api" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h2><p>The Unleash proxy exposes a simple API for consumption by client-side SDKs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="openapi-integration">OpenAPI integration<a href="#openapi-integration" class="hash-link" aria-label="Direct link to OpenAPI integration" title="Direct link to OpenAPI integration">​</a></h3><hr><p>ℹ️ <strong>Availability</strong></p><p>The OpenAPI integration is available in versions 0.9 and later of the Unleash proxy.</p><hr><p>The proxy can expose a runtime-generated OpenAPI JSON spec and a corresponding OpenAPI UI for its API. The OpenAPI UI page is an interactive page where you can discover and test the API endpoints the proxy exposes. The JSON spec can be used to generate an OpenAPI client with OpenAPI tooling such as the <a href="https://openapi-generator.tech/" target="_blank" rel="noopener noreferrer">OpenAPI generator</a>.</p><p>To enable the JSON spec and UI, set <code>ENABLE_OAS</code> (environment variable) or <code>enableOAS</code> (in-code configuration variable) to <code>true</code>.</p><p>The spec and UI can then be found at <code>&lt;base url&gt;/docs/openapi.json</code> and <code>&lt;base url&gt;/docs/openapi</code> respectively.</p><p>You can refer to the <a href="https://docs.getunleash.io/how-to/how-to-enable-openapi" target="_blank" rel="noopener noreferrer">how to enable the OpenAPI spec</a> guide for more detailed information on how to configure it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-proxy"><code>GET /proxy</code><a href="#get-proxy" class="hash-link" aria-label="Direct link to get-proxy" title="Direct link to get-proxy">​</a></h3><p>The primary proxy API operation. This endpoint accepts an Unleash context encoded as query parameters, and will return all toggles that are evaluated as true for the provided context.</p><figure><img loading="lazy" src="https://raw.githubusercontent.com/Unleash/unleash-proxy/main/./.github/img/get-request.png" class="img_ev3q"><figcaption>When sending GET requests to the Unleash proxy&#x27;s /proxy endpoint, the request should contain the current Unleash context as query parameters. The proxy will return all enabled toggles for the provided context.</figcaption></figure><h3 class="anchor anchorWithStickyNavbar_LWe7" id="payload">Payload<a href="#payload" class="hash-link" aria-label="Direct link to Payload" title="Direct link to Payload">​</a></h3><p>The <code>GET /proxy</code> operation returns information about toggles enabled for the current user. The payload is a JSON object with a <code>toggles</code> property, which contains a list of toggles.</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;toggles&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;demo&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;disabled&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;demoApp.step1&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;disabled&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="toggle-data">Toggle data<a href="#toggle-data" class="hash-link" aria-label="Direct link to Toggle data" title="Direct link to Toggle data">​</a></h4><p>The data for a toggle without <a href="https://docs.getunleash.io/reference/feature-toggle-variants" target="_blank" rel="noopener noreferrer">variants</a> looks like this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;basic-toggle&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;disabled&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong><code>name</code></strong>: the name of the feature.</li><li><strong><code>enabled</code></strong>: whether the toggle is enabled or not. Will always be <code>true</code>.</li><li><strong><code>variant</code></strong>: describes whether the toggle has variants and, if it does, what variant is active for this user. If a toggle doesn&#x27;t have any variants, it will always be <code>{&quot;name&quot;: &quot;disabled&quot;, &quot;enabled&quot;: false}</code>.</li></ul><hr><p>ℹ️ <strong>The &quot;disabled&quot; variant</strong></p><p>Unleash uses a fallback variant called &quot;disabled&quot; to indicate that a toggle has no variants. However, you are free to create a variant called &quot;disabled&quot; yourself. In that case you can tell them apart by checking the variant&#x27;s <code>enabled</code> property: if the toggle has no variants, <code>enabled</code> will be <code>false</code>. If the toggle is the &quot;disabled&quot; variant that you created, it will have <code>enabled</code> set to <code>true</code>.</p><hr><p>If a toggle has variants, then the variant object can also contain an optional <code>payload</code> property. The <code>payload</code> will contain data about the variant&#x27;s payload: what type it is, and what the content is. To learn more about variants and their payloads, check <a href="https://docs.getunleash.io/reference/feature-toggle-variants" target="_blank" rel="noopener noreferrer">the feature toggle variants documentation</a>.</p><p>Variant toggles without payloads look will have their name listed and the <code>enabled</code> property set to <code>true</code>:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;toggle-with-variants&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;simple&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the variant has a payload, the optional <code>payload</code> property will list the payload&#x27;s type and it&#x27;s content in a stringified form:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;toggle-with-variants&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;with-payload-string&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;payload&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;type&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;string&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;value&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;this string is the variant&#x27;s payload&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For the <code>variant</code> property:</p><ul><li><strong><code>name</code></strong>: is the name of the variant, as shown in the Admin UI.</li><li><strong><code>enabled</code></strong>: indicates whether the variant is enabled or not. If the toggle has variants, this is always <code>true</code>.</li><li><strong><code>payload</code></strong> (optional): Only present if the variant has a payload. Describes the payload&#x27;s type and content.</li></ul><p>If the variant has a payload, the <code>payload</code> object contains:</p><ul><li><strong><code>type</code></strong>: the type of the variant&#x27;s payload</li><li><strong><code>value</code></strong>: the value of the variant&#x27;s payload</li></ul><p>The <code>value</code> will always be the payload&#x27;s content as a string, escaped as necessary. For instance, a variant with a JSON payload would look like this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;toggle-with-variants&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;with-payload-json&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;payload&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;type&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;json&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;value&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;{\&quot;description\&quot;: \&quot;this is data delivered as a json string\&quot;}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-proxy"><code>POST /proxy</code><a href="#post-proxy" class="hash-link" aria-label="Direct link to post-proxy" title="Direct link to post-proxy">​</a></h3><p>The proxy also offers a POST API used to evaluate toggles This can be used to evaluate a list of know toggle names or to retrieve all <em>enabled</em> toggles for a given context.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="evaluate-list-of-known-toggles">Evaluate list of known toggles<a href="#evaluate-list-of-known-toggles" class="hash-link" aria-label="Direct link to Evaluate list of known toggles" title="Direct link to Evaluate list of known toggles">​</a></h4><p>This method will allow you to send a list of toggle names together with an Unleash Context and evaluate them accordingly. It will return enablement of all provided toggles.</p><p><strong>URL</strong>: <code>POST https://proxy-host.server/proxy</code></p><p><strong>Content Type</strong>: <code>application/json</code></p><p><strong>Body:</strong></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;toggles&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&quot;demoApp.step1&quot;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;context&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;appName&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;someApp&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;sessionId&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;233312AFF22&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Allow-Origin: *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Expose-Headers: ETag</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Cache-control: public, max-age=2</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Connection: keep-alive</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Length: 122</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Type: application/json; charset=utf-8</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Date: Wed, 30 Nov 2022 14:46:48 GMT</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ETag: W/&quot;7a-RMKUyY0BWIhjahpVPWnNdXyDw6I&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Keep-Alive: timeout=5</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Vary: Accept-Encoding</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;toggles&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;enabled&quot;: false,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;impressionData&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;name&quot;: &quot;demoApp.step1&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;variant&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;enabled&quot;: false,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;name&quot;: &quot;disabled&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="evaluate-all-enabled-toggles">Evaluate all enabled toggles<a href="#evaluate-all-enabled-toggles" class="hash-link" aria-label="Direct link to Evaluate all enabled toggles" title="Direct link to Evaluate all enabled toggles">​</a></h4><p>This method will allow you to get all enabled toggles for a given context.</p><p><strong>URL</strong>: <code>POST https://proxy-host.server/proxy</code></p><p><strong>Content Type</strong>: <code>application/json</code></p><p><strong>Body:</strong></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;context&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;appName&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;someApp&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token property" style="color:#5a9bcf">&quot;sessionId&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;233312AFF22&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Result:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Allow-Origin: *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Expose-Headers: ETag</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Cache-control: public, max-age=2</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Connection: keep-alive</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Length: 465</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Type: application/json; charset=utf-8</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Date: Wed, 30 Nov 2022 14:48:55 GMT</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ETag: W/&quot;1d1-dm6tkvMpkx42mZmojNSNKmHid1M&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Keep-Alive: timeout=5</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Vary: Accept-Encoding</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">{</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    &quot;toggles&quot;: [</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;impressionData&quot;: false,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;name&quot;: &quot;demoApp.step2&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;variant&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;name&quot;: &quot;userWithId&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                    &quot;type&quot;: &quot;string&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                    &quot;value&quot;: &quot;90732934&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;impressionData&quot;: false,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;name&quot;: &quot;demoApp.step3&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;variant&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;name&quot;: &quot;C&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                    &quot;type&quot;: &quot;string&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                    &quot;value&quot;: &quot;hello&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;impressionData&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;name&quot;: &quot;demoApp.step4&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            &quot;variant&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;enabled&quot;: true,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;name&quot;: &quot;Orange&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                    &quot;type&quot;: &quot;string&quot;,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                    &quot;value&quot;: &quot;orange&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-proxyall-return-enabled-and-disabled-toggles"><code>GET /proxy/all</code> Return enabled <strong>and</strong> disabled toggles:<a href="#get-proxyall-return-enabled-and-disabled-toggles" class="hash-link" aria-label="Direct link to get-proxyall-return-enabled-and-disabled-toggles" title="Direct link to get-proxyall-return-enabled-and-disabled-toggles">​</a></h3><p>By default, the proxy only returns enabled toggles. However, in certain use cases, you might want it to return <strong>all</strong> toggles, regardless of whether they&#x27;re enabled or disabled. The <code>/proxy/all</code> endpoint does this.</p><p>Because returning all toggles regardless of their state is a potential security vulnerability, the endpoint has to be explicitly enabled. To enable it, set the <code>enableAllEndpoint</code> configuration option or the <code>ENABLE_ALL_ENDPOINT</code> environment variable to <code>true</code>.</p><p>The response payload follows the same format as the <a href="#payload"><code>GET /proxy</code> response payload</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-proxyhealth-health-endpoint"><code>GET /proxy/health</code>: Health endpoint<a href="#get-proxyhealth-health-endpoint" class="hash-link" aria-label="Direct link to get-proxyhealth-health-endpoint" title="Direct link to get-proxyhealth-health-endpoint">​</a></h3><p>The proxy will try to synchronize with the Unleash API at startup, until it has successfully done that the proxy will return <code>HTTP 503 - Not Ready</code> for all request. You can use the health endpoint to validate that the proxy is ready to receive requests:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">curl</span><span class="token plain"> http://localhost:3000/proxy/health -I</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the proxy is ready, the response should look a little something like this:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">HTTP/1.1 </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"> OK</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Allow-Origin: *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Expose-Headers: ETag</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Type: text/html</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">charset</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">utf-8</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Length: </span><span class="token number" style="color:#5a9bcf">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ETag: W/</span><span class="token string" style="color:#8dc891">&quot;2-eoX0dku9ba8cNUXvu/DyeabcC+s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Date: Fri, 04 Jun </span><span class="token number" style="color:#5a9bcf">2021</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">10</span><span class="token plain">:38:27 GMT</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Connection: keep-alive</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Keep-Alive: </span><span class="token assign-left variable" style="color:#d7deea">timeout</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration options" title="Direct link to Configuration options">​</a></h2><p>The Proxy has a large number of configuration options that you can use to adjust it to your specific use case. The following table lists all the available options.</p><hr><p>ℹ️ <strong>Required configuration</strong></p><p>You <strong>must configure</strong> these three variables for the proxy to start successfully:</p><ul><li><p><code>unleashUrl</code> / <code>UNLEASH_URL</code></p></li><li><p><code>unleashApiToken</code> / <code>UNLEASH_API_TOKEN</code></p></li><li><p><code>clientKeys</code> / <code>UNLEASH_PROXY_CLIENT_KEYS</code></p></li></ul><hr><table><thead><tr><th>Option</th><th>Environment Variable</th><th>Default value</th><th align="center">Required</th><th>Description</th></tr></thead><tbody><tr><td>unleashUrl</td><td><code>UNLEASH_URL</code></td><td>n/a</td><td align="center">yes</td><td>API Url to the Unleash instance to connect to</td></tr><tr><td>unleashApiToken</td><td><code>UNLEASH_API_TOKEN</code></td><td>n/a</td><td align="center">yes</td><td>API token (client) needed to connect to Unleash API.</td></tr><tr><td>clientKeys</td><td><code>UNLEASH_PROXY_CLIENT_KEYS</code></td><td>n/a</td><td align="center">yes</td><td>List of client keys that the proxy should accept. When querying the proxy, Proxy SDKs must set the request&#x27;s <em>client keys header</em> to one of these values. The default client keys header is <code>Authorization</code>.</td></tr><tr><td>proxySecrets</td><td><code>UNLEASH_PROXY_SECRETS</code></td><td>n/a</td><td align="center">no</td><td>Deprecated alias for <code>clientKeys</code>. Please use <code>clientKeys</code> instead.</td></tr><tr><td>n/a</td><td><code>PORT</code> or <code>PROXY_PORT</code></td><td>3000</td><td align="center">no</td><td>The port where the proxy should listen.</td></tr><tr><td>proxyBasePath</td><td><code>PROXY_BASE_PATH</code></td><td>&quot;&quot;</td><td align="center">no</td><td>The base path to run the proxy from. &quot;/proxy&quot; will be added at the end. For instance, if <code>proxyBasePath</code> is <code>&quot;base/path&quot;</code>, the proxy will run at <code>/base/path/proxy</code>.</td></tr><tr><td>unleashAppName</td><td><code>UNLEASH_APP_NAME</code></td><td>&quot;unleash-proxy&quot;</td><td align="center">no</td><td>App name to used when registering with Unleash</td></tr><tr><td>unleashInstanceId</td><td><code>UNLEASH_INSTANCE_ID</code></td><td><code>generated</code></td><td align="center">no</td><td>Unleash instance id to used when registering with Unleash</td></tr><tr><td>refreshInterval</td><td><code>UNLEASH_FETCH_INTERVAL</code></td><td>5000</td><td align="center">no</td><td>How often the proxy should query Unleash for updates, defined in ms.</td></tr><tr><td>metricsInterval</td><td><code>UNLEASH_METRICS_INTERVAL</code></td><td>30000</td><td align="center">no</td><td>How often the proxy should send usage metrics back to Unleash, defined in ms.</td></tr><tr><td>metricsJitter</td><td><code>UNLEASH_METRICS_JITTER</code></td><td>0</td><td align="center">no</td><td>Adds jitter to the metrics interval to avoid multiple instances sending metrics at the same time, defined in ms.</td></tr><tr><td>environment</td><td><code>UNLEASH_ENVIRONMENT</code></td><td><code>undefined</code></td><td align="center">no</td><td>If set this will be the <code>environment</code> used by the proxy in the Unleash Context. It will not be possible for proxy SDKs to override the environment if set.</td></tr><tr><td>projectName</td><td><code>UNLEASH_PROJECT_NAME</code></td><td><code>undefined</code></td><td align="center">no</td><td>The projectName (id) to fetch feature toggles for. The proxy will only return know about feature toggles that belongs to the project, if specified.</td></tr><tr><td>logger</td><td>n/a</td><td>SimpleLogger</td><td align="center">no</td><td>Register a custom logger.</td></tr><tr><td>useJsonLogger</td><td><code>JSON_LOGGER</code></td><td>false</td><td align="center">no</td><td>Sets the default logger to log as one-line JSON. This has no effect if a custom logger is provided.</td></tr><tr><td>logLevel</td><td><code>LOG_LEVEL </code></td><td>&quot;warn&quot;</td><td align="center">no</td><td>Used to set logLevel. Supported options: &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot; and &quot;fatal&quot;</td></tr><tr><td>customStrategies</td><td><code>UNLEASH_CUSTOM_STRATEGIES_FILE</code></td><td>[]</td><td align="center">no</td><td>Use this option to inject implementation of custom activation strategies. If you are using <code>UNLEASH_CUSTOM_STRATEGIES_FILE</code> you need to provide a valid path to a javascript file which exports an array of custom activation strategies and the SDK will automatically load these</td></tr><tr><td>trustProxy</td><td><code>TRUST_PROXY </code></td><td><code>false</code></td><td align="center">no</td><td>By enabling the trustProxy option, Unleash Proxy will have knowledge that it&#x27;s sitting behind a proxy and that the X-Forwarded-<!-- -->*<!-- --> header fields may be trusted, which otherwise may be easily spoofed. The proxy will automatically enrich the ip address in the Unleash Context. Can either be <code>true/false</code> (Trust all proxies), trust only given IP/CIDR (e.g. <code>&#x27;127.0.0.1&#x27;</code>) as a <code>string</code>. May be a list of comma separated values (e.g. <code>&#x27;127.0.0.1,192.168.1.1/24&#x27;</code></td></tr><tr><td>namePrefix</td><td><code>UNLEASH_NAME_PREFIX</code></td><td>undefined</td><td align="center">no</td><td>Used to filter features by using prefix when requesting backend values.</td></tr><tr><td>tags</td><td><code>UNLEASH_TAGS</code></td><td>undefined</td><td align="center">no</td><td>Used to filter features by using tags set for features. Format should be <code>tagName:tagValue,tagName2:tagValue2</code></td></tr><tr><td>clientKeysHeaderName</td><td><code>CLIENT_KEY_HEADER_NAME</code></td><td>&quot;authorization&quot;</td><td align="center">no</td><td>The name of the HTTP header to use for client keys. Incoming requests must set the value of this header to one of the Proxy&#x27;s <code>clientKeys</code> to be authorized successfully.</td></tr><tr><td>storageProvider</td><td>n/a</td><td><code>undefined</code></td><td align="center">no</td><td>Register a custom storage provider. Refer to the <a href="https://github.com/Unleash/unleash-client-node/#custom-store-provider" target="_blank" rel="noopener noreferrer">section on custom storage providers in the Node.js SDK&#x27;s readme</a> for more information.</td></tr><tr><td>enableOAS</td><td><code>ENABLE_OAS</code></td><td><code>false</code></td><td align="center">no</td><td>Set to <code>true</code> to expose the proxy&#x27;s OpenAPI spec at <code>/docs/openapi.json</code> and an interactive OpenAPI UI at <code>/docs/openapi</code>. Read more in the <a href="#openapi">OpenAPI section</a>.</td></tr><tr><td>enableAllEndpoint</td><td><code>ENABLE_ALL_ENDPOINT</code></td><td><code>false</code></td><td align="center">no</td><td>Set to <code>true</code> to expose the <code>/proxy/all</code> endpoint. Refer to the <a href="#return-enabled-and-disabled-toggles">section on returning all toggles</a> for more info.</td></tr><tr><td>cors</td><td>n/a</td><td>n/a</td><td align="center">no</td><td>Pass custom options for <a href="https://www.npmjs.com/package/cors#configuration-options" target="_blank" rel="noopener noreferrer">CORS module</a></td></tr><tr><td>cors.allowedHeaders</td><td><code>CORS_ALLOWED_HEADERS</code></td><td>n/a</td><td align="center">no</td><td>Headers to allow for CORS</td></tr><tr><td>cors.credentials</td><td><code>CORS_CREDENTIALS</code></td><td><code>false</code></td><td align="center">no</td><td>Allow credentials in CORS requests</td></tr><tr><td>cors.exposedHeaders</td><td><code>CORS_EXPOSED_HEADERS</code></td><td>&quot;ETag&quot;</td><td align="center">no</td><td>Headers to expose for CORS</td></tr><tr><td>cors.maxAge</td><td><code>CORS_MAX_AGE</code></td><td>172800</td><td align="center">no</td><td>Maximum number of seconds to cache CORS results</td></tr><tr><td>cors.methods</td><td><code>CORS_METHODS</code></td><td>&quot;GET, POST&quot;</td><td align="center">no</td><td>Methods to allow for CORS</td></tr><tr><td>cors.optionsSuccessStatus</td><td><code>CORS_OPTIONS_SUCCESS_STATUS</code></td><td>204</td><td align="center">no</td><td>If the Options call passes CORS, which http status to return</td></tr><tr><td>cors.origin</td><td><code>CORS_ORIGIN</code></td><td>*</td><td align="center">no</td><td>Origin URL or list of comma separated list of URLs to whitelist for CORS</td></tr><tr><td>cors.preflightContinue</td><td><code>CORS_PREFLIGHT_CONTINUE</code></td><td><code>false</code></td><td align="center">no</td><td></td></tr><tr><td>httpOptions.rejectUnauthorized</td><td><code>HTTP_OPTIONS_REJECT_UNAUTHORIZED</code></td><td><code>true</code></td><td align="center">no</td><td>If true, unleash-proxy will automatically reject connections to unleash server with invalid certificates</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="experimental-configuration-options">Experimental configuration options<a href="#experimental-configuration-options" class="hash-link" aria-label="Direct link to Experimental configuration options" title="Direct link to Experimental configuration options">​</a></h3><p>Some functionality is under validation and introduced as experimental. This allows us to test new functionality early and quickly. Experimental options can change or be removed at any point in the future and are explicitly <strong>not</strong> part of the proxy&#x27;s semantic versioning.</p><table><thead><tr><th>Option</th><th>Environment Variable</th><th>Default value</th><th align="center">Required</th><th>Description</th></tr></thead><tbody><tr><td>expBootstrap</td><td>n/a</td><td>n/a</td><td align="center">no</td><td>Where the Proxy can bootstrap configuration from. See <a href="https://github.com/Unleash/unleash-client-node#bootstrap" target="_blank" rel="noopener noreferrer">Node.js SDK</a> for details.</td></tr><tr><td>expBootstrap.url</td><td><code>EXP_BOOTSTRAP_URL</code></td><td>n/a</td><td align="center">no</td><td>Url where the Proxy can bootstrap configuration from. See <a href="https://github.com/Unleash/unleash-client-node#bootstrap" target="_blank" rel="noopener noreferrer">Node.js SDK</a> for details.</td></tr><tr><td>expBootstrap.urlHeaders.Authorization</td><td><code>EXP_BOOTSTRAP_AUTHORIZATION</code></td><td>n/a</td><td align="center">no</td><td>Authorization header value to be used when bootstrapping</td></tr><tr><td>expServerSideSdkConfig.tokens</td><td><code>EXP_SERVER_SIDE_SDK_CONFIG_TOKENS</code></td><td>n/a</td><td align="center">no</td><td>API tokens that can be used by Server SDKs (and proxies) to read feature toggle configuration from this Proxy instance.</td></tr></tbody></table><table><thead><tr><th>Option</th><th>Environment Variable</th><th>Default value</th><th align="center">Required</th><th>Description</th></tr></thead><tbody><tr><td>expBootstrap</td><td>n/a</td><td>n/a</td><td align="center">no</td><td>Where the Proxy can bootstrap configuration from. See <a href="https://github.com/Unleash/unleash-client-node#bootstrap" target="_blank" rel="noopener noreferrer">Node.js SDK</a> for details.</td></tr><tr><td>expBootstrap.url</td><td><code>EXP_BOOTSTRAP_URL</code></td><td>n/a</td><td align="center">no</td><td>Url where the Proxy can bootstrap configuration from. See <a href="https://github.com/Unleash/unleash-client-node#bootstrap" target="_blank" rel="noopener noreferrer">Node.js SDK</a> for details.</td></tr><tr><td>expBootstrap.urlHeaders.Authorization</td><td><code>EXP_BOOTSTRAP_AUTHORIZATION</code></td><td>n/a</td><td align="center">no</td><td>Authorization header value to be used when bootstrapping</td></tr><tr><td>expServerSideSdkConfig.tokens</td><td><code>EXP_SERVER_SIDE_SDK_CONFIG_TOKENS</code></td><td>n/a</td><td align="center">no</td><td>API tokens that can be used by Server SDKs (and proxies) to read feature toggle configuration from this Proxy instance.</td></tr><tr><td>expCustomEnrichers</td><td><code>EXP_CUSTOM_ENRICHERS_FILE</code></td><td>[]</td><td align="center">no</td><td>Use this option to inject implementation of custom context enrichers. If you are using <code>EXP_CUSTOM_ENRICHERS_FILE</code> you need to provide a valid path to a javascript file which exports an array of custom context enrichers and the SDK will automatically load these</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="internal-sdk-capabilities">Internal SDK capabilities<a href="#internal-sdk-capabilities" class="hash-link" aria-label="Direct link to Internal SDK capabilities" title="Direct link to Internal SDK capabilities">​</a></h2><p>The proxy uses the <a href="https://github.com/Unleash/unleash-client-node" target="_blank" rel="noopener noreferrer">Node.js SDK</a> internally. When you start the proxy it initializes a client for you using any configuration option you provided on startup. You can also provide your own client.</p><p>The client that the proxy uses supports all the SDK features that the Node.js SDK supports, as listed in the <a href="https://docs.getunleash.io/reference/sdks#server-side-sdk-compatibility-table" target="_blank" rel="noopener noreferrer">Unleash server-side compatibility overview</a>. The proxy has supported advanced <a href="https://docs.getunleash.io/reference/strategy-constraints" target="_blank" rel="noopener noreferrer">strategy constraints</a> since version 0.8. Because the proxy uses the Node SDK internally,</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-unleash-proxy">Run The Unleash Proxy<a href="#run-the-unleash-proxy" class="hash-link" aria-label="Direct link to Run The Unleash Proxy" title="Direct link to Run The Unleash Proxy">​</a></h2><p>The Unleash proxy is a small stateless HTTP application you run. The only requirement is that it needs to be able to talk with the Unleash API (either Unleash OSS or Unleash Hosted).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-with-docker">Run with Docker<a href="#run-with-docker" class="hash-link" aria-label="Direct link to Run with Docker" title="Direct link to Run with Docker">​</a></h3><p>The easies way to run Unleash is via Docker. We have published a <a href="https://hub.docker.com/r/unleashorg/unleash-proxy/" target="_blank" rel="noopener noreferrer">docker image on docker hub</a>.</p><p><strong>Step 1: Pull</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">docker</span><span class="token plain"> pull unleashorg/unleash-proxy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Step 2: Start</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">docker</span><span class="token plain"> run </span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   -e </span><span class="token assign-left variable" style="color:#d7deea">UNLEASH_PROXY_CLIENT_KEYS</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">some-secret </span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   -e </span><span class="token assign-left variable" style="color:#d7deea">UNLEASH_URL</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">https://app.unleash-hosted.com/demo/api/ </span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   -e </span><span class="token assign-left variable" style="color:#d7deea">UNLEASH_API_TOKEN</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">56907a2fa53c1d16101d509a10b78e36190b0f918d9f122d </span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   -p </span><span class="token number" style="color:#5a9bcf">3000</span><span class="token plain">:3000 </span><span class="token punctuation" style="color:#8dc891">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   unleashorg/unleash-proxy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see the following output:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Unleash-proxy is listening on port </span><span class="token number" style="color:#5a9bcf">3000</span><span class="token operator" style="color:#d7deea">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Step 3: verify</strong></p><p>In order to verify the proxy you can use curl and see that you get a few evaluated feature toggles back:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">curl</span><span class="token plain"> http://localhost:3000/proxy -H </span><span class="token string" style="color:#8dc891">&quot;Authorization: some-secret&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Expected output would be something like:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token property" style="color:#5a9bcf">&quot;toggles&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;demo&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;disabled&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;demoApp.step1&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token property" style="color:#5a9bcf">&quot;variant&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;name&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;disabled&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token property" style="color:#5a9bcf">&quot;enabled&quot;</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Health endpoint</strong></p><p>The proxy will try to synchronize with the Unleash API at startup, until it has successfully done that the proxy will return <code>HTTP 503 - Not Read?</code> for all request. You can use the health endpoint to validate that the proxy is ready to recieve requests:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token function" style="color:#79b6f2">curl</span><span class="token plain"> http://localhost:3000/proxy/health -I</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">HTTP/1.1 </span><span class="token number" style="color:#5a9bcf">200</span><span class="token plain"> OK</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Allow-Origin: *</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Access-Control-Expose-Headers: ETag</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Type: text/html</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#d7deea">charset</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">utf-8</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Content-Length: </span><span class="token number" style="color:#5a9bcf">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ETag: W/</span><span class="token string" style="color:#8dc891">&quot;2-eoX0dku9ba8cNUXvu/DyeabcC+s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Date: Fri, 04 Jun </span><span class="token number" style="color:#5a9bcf">2021</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">10</span><span class="token plain">:38:27 GMT</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Connection: keep-alive</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">Keep-Alive: </span><span class="token assign-left variable" style="color:#d7deea">timeout</span><span class="token operator" style="color:#d7deea">=</span><span class="token number" style="color:#5a9bcf">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-with-nodejs">Run with Node.js:<a href="#run-with-nodejs" class="hash-link" aria-label="Direct link to Run with Node.js:" title="Direct link to Run with Node.js:">​</a></h3><p><strong>STEP 1: Install dependency</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">npm install @unleash/proxy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>STEP 2: use in your code</strong></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> port </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">3000</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> createApp </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;@unleash/proxy&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> app </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">createApp</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token literal-property property" style="color:#5a9bcf">unleashUrl</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;https://app.unleash-hosted.com/demo/api/&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token literal-property property" style="color:#5a9bcf">unleashApiToken</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;56907a2fa53c1d16101d509a10b78e36190b0f918d9f122d&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token literal-property property" style="color:#5a9bcf">clientKeys</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;proxy-secret&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;another-proxy-secret&#x27;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&#x27;s1&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token literal-property property" style="color:#5a9bcf">refreshInterval</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">1000</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// logLevel: &#x27;info&#x27;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// projectName: &#x27;order-team&#x27;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// environment: &#x27;development&#x27;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">app</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">listen</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">port</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#d7deea">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// eslint-disable-next-line no-console</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token console class-name" style="color:#FAC863">console</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">log</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token template-string string" style="color:#8dc891">Unleash Proxy listening on http://localhost:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#8dc891">${</span><span class="token template-string interpolation">port</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#8dc891">}</span><span class="token template-string string" style="color:#8dc891">/proxy</span><span class="token template-string template-punctuation string" style="color:#8dc891">`</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-connect-to-the-proxy">How to connect to the Proxy?<a href="#how-to-connect-to-the-proxy" class="hash-link" aria-label="Direct link to How to connect to the Proxy?" title="Direct link to How to connect to the Proxy?">​</a></h2><p>Unleash offers several different <a href="https://docs.getunleash.io/reference/sdks#client-side-sdks" target="_blank" rel="noopener noreferrer">client-side SDKs</a> for a number of use cases, and the community has created even more. These SDKs connect to the proxy and integrate with well with their designated language/framework. They also sync with the proxy at periodic intervals and post usage metrics back to Unleash via the proxy.</p><p>For applications where there is no appropriate client-side SDK or where you simply want to avoid the dependency, you could also get away with using a simple HTTP-client if you just want to get the list of active features.</p><p>The proxy is also ideal fit for serverless functions such as AWS Lambda. In that scenario the proxy can run on a small container near the serverless function, preferably in the same VPC, giving the lambda extremely fast access to feature flags, at a predictable cost.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-activation-strategies">Custom activation strategies<a href="#custom-activation-strategies" class="hash-link" aria-label="Direct link to Custom activation strategies" title="Direct link to Custom activation strategies">​</a></h2><hr><p>ℹ️ <strong>Limitations for hosted proxies</strong></p><p>Custom activation strategies can <strong>not</strong> be used with the Unleash-hosted proxy available to Pro and Enterprise customers.</p><hr><p>The Unleash Proxy can load <a href="https://docs.getunleash.io/reference/custom-activation-strategies" target="_blank" rel="noopener noreferrer">custom activation strategies</a> for <a href="https://docs.getunleash.io/reference/sdks#client-side-sdks" target="_blank" rel="noopener noreferrer">client-side SDKs</a>. For a step-by-step guide, refer to the <a href="https://docs.getunleash.io/how-to/how-to-use-custom-strategies#step-3-b" target="_blank" rel="noopener noreferrer"><em>how to use custom strategies</em> guide</a>.</p><p>To load custom strategies, use either of these two options:</p><ul><li>the <strong><code>customStrategies</code></strong> option: use this if you&#x27;re running the Unleash Proxy via Node directly.</li><li>the <strong><code>UNLEASH_CUSTOM_STRATEGIES_FILE</code></strong> environment variable: use this if you&#x27;re running the proxy as a container.</li></ul><p>Both options take a list of file paths to JavaScript files that export custom strategy implementations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-activation-strategy-files-format">Custom activation strategy files format<a href="#custom-activation-strategy-files-format" class="hash-link" aria-label="Direct link to Custom activation strategy files format" title="Direct link to Custom activation strategy files format">​</a></h3><p>Each strategy file must export a list of instantiated strategies. A file can export as many strategies as you&#x27;d like.</p><p>Here&#x27;s an example file that exports two custom strategies:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token maybe-class-name">Strategy</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">require</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;unleash-client&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">MyCustomStrategy</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Strategy</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// ... strategy implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">MyOtherCustomStrategy</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Strategy</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token comment" style="color:#999999">// ... strategy implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// export strategies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">module</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">MyCustomStrategy</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">new</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">MyOtherCustomStrategy</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Refer the <a href="https://docs.getunleash.io/reference/custom-activation-strategies#implementation" target="_blank" rel="noopener noreferrer">custom activation strategy documentation</a> for more details on how to implement a custom activation strategy.</p><hr><p>This content was generated on <time datetime="2024-01-05T19:51:25.985Z">5 January 2024 at 19:51:25 Coordinated Universal Time</time></p></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Unleash/unleash-proxy/edit/main/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/reference/unleash-edge"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unleash Edge</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contributing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributing to Unleash</div></a></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#a-note-on-privacy-and-the-proxy" class="table-of-contents__link toc-highlight">A note on privacy and the proxy</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a><ul><li><a href="#openapi-integration" class="table-of-contents__link toc-highlight">OpenAPI integration</a></li><li><a href="#get-proxy" class="table-of-contents__link toc-highlight"><code>GET /proxy</code></a></li><li><a href="#payload" class="table-of-contents__link toc-highlight">Payload</a></li><li><a href="#post-proxy" class="table-of-contents__link toc-highlight"><code>POST /proxy</code></a></li><li><a href="#get-proxyall-return-enabled-and-disabled-toggles" class="table-of-contents__link toc-highlight"><code>GET /proxy/all</code> Return enabled <strong>and</strong> disabled toggles:</a></li><li><a href="#get-proxyhealth-health-endpoint" class="table-of-contents__link toc-highlight"><code>GET /proxy/health</code>: Health endpoint</a></li></ul></li><li><a href="#configuration-options" class="table-of-contents__link toc-highlight">Configuration options</a><ul><li><a href="#experimental-configuration-options" class="table-of-contents__link toc-highlight">Experimental configuration options</a></li></ul></li><li><a href="#internal-sdk-capabilities" class="table-of-contents__link toc-highlight">Internal SDK capabilities</a></li><li><a href="#run-the-unleash-proxy" class="table-of-contents__link toc-highlight">Run The Unleash Proxy</a><ul><li><a href="#run-with-docker" class="table-of-contents__link toc-highlight">Run with Docker</a></li><li><a href="#run-with-nodejs" class="table-of-contents__link toc-highlight">Run with Node.js:</a></li></ul></li><li><a href="#how-to-connect-to-the-proxy" class="table-of-contents__link toc-highlight">How to connect to the Proxy?</a></li><li><a href="#custom-activation-strategies" class="table-of-contents__link toc-highlight">Custom activation strategies</a><ul><li><a href="#custom-activation-strategy-files-format" class="table-of-contents__link toc-highlight">Custom activation strategy files format</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Docs</a></li><li class="footer__item"><a href="https://github.com/Unleash/unleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unleash on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/Unleash/projects/10" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://getunleash.zendesk.com/hc/en-gb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unleash help center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/unleash/unleash/discussions/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://slack.unleash.run/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/unleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/getunleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2024 Unleash. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3e0a6447.js"></script>
<script src="/assets/js/main.90d8f9bf.js"></script>
</body>
</html>