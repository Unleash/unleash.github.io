<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-generated/sdks/server-side/php">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">PHP | Unleash</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.getunleash.io/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://docs.getunleash.io/img/logo.png"><meta data-rh="true" property="og:url" content="https://docs.getunleash.io/reference/sdks/php"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PHP | Unleash"><meta data-rh="true" name="description" content="This document was generated from the README in the PHP GitHub repository."><meta data-rh="true" property="og:description" content="This document was generated from the README in the PHP GitHub repository."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.getunleash.io/reference/sdks/php"><link data-rh="true" rel="alternate" href="https://docs.getunleash.io/reference/sdks/php" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.getunleash.io/reference/sdks/php" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5U05JI5NE1-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-134882379-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="Unleash" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.1e04bbf1.css">
<link rel="preload" href="/assets/js/runtime~main.a5df81a9.js" as="script">
<link rel="preload" href="/assets/js/main.a8fa6c48.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Unleash</b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.getunleash.io/plans" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Unleash Enterprise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Unleash/unleash" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Unleash GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">About the docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/tutorials">First steps and tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;First steps and tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/unleash-overview">Unleash introductory overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/important-concepts">Important Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/quickstart">Quickstart</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/topics">Topic guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Topic guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/the-anatomy-of-unleash">The Anatomy of Unleash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/a-b-testing">A/B and multivariate testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/proxy-hosting">Proxy hosting strategies</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/how-to">How-to guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/api">Unleash API guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash API guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/proxy">Unleash Proxy guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash Proxy guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/misc">Feature toggles, strategies, context</a><button aria-label="Toggle the collapsible sidebar category &#x27;Feature toggles, strategies, context&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/env">Environments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Environments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/users-and-permissions">Users and permissions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Users and permissions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/sso">Single Sign-On (SSO)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Single Sign-On (SSO)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/reference">Reference documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/addons">Addons</a><button aria-label="Toggle the collapsible sidebar category &#x27;Addons&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/api/legacy/unleash">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/reference/sdks">Application SDKs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Application SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/reference/sdks/dotnet">Server-side SDKs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/dotnet">.NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/go">Go</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/java">Java</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/node">Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference/sdks/php">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/python">Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/ruby">Ruby</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks/rust">Rust</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/reference/sdks/android-proxy">Client-side SDKs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sdks#community-sdks">Community SDKs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/deploy">Deploy and manage Unleash</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy and manage Unleash&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/concepts">Unleash concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unleash-edge">Unleash Edge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unleash-proxy">Unleash Proxy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/developer-guide">Developer contribution docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer contribution docs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/reference"><span itemprop="name">Reference documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/reference/sdks"><span itemprop="name">Application SDKs</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Server-side SDKs</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">PHP</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PHP</h1></header><div class="row"><div class="col col--12"><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Generated content</div><div class="admonitionContent_S0QG"><p>This document was generated from the README in the <a href="https://github.com/Unleash/unleash-client-php" target="_blank" rel="noopener noreferrer">PHP GitHub repository</a>.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>To connect to Unleash, you&#x27;ll need your Unleash API url (e.g. <code>https://&lt;your-unleash&gt;/api</code>) and a <a href="/reference/api-tokens-and-client-keys#client-tokens">server-side API token</a> (<a href="/how-to/how-to-create-api-tokens">how do I create an API token?</a>).</p></div></div><p><a href="https://github.com/Unleash/unleash-client-php/actions/workflows/tests.yaml" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://github.com/Unleash/unleash-client-php/actions/workflows/tests.yaml/badge.svg" alt="Tests" class="img_ev3q"></a>
<a href="https://github.com/Unleash/unleash-client-php/actions/workflows/tests-8.x.yaml" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://github.com/Unleash/unleash-client-php/actions/workflows/tests-8.x.yaml/badge.svg" alt="Tests (8.x)" class="img_ev3q"></a>
<a href="https://github.com/Unleash/unleash-client-php/actions/workflows/tests-7.x.yaml" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://github.com/Unleash/unleash-client-php/actions/workflows/tests-7.x.yaml/badge.svg" alt="Tests (7.x)" class="img_ev3q"></a>
<a href="https://coveralls.io/github/Unleash/unleash-client-php?branch=main" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/coverallsCoverage/github/Unleash/unleash-client-php?label=Code%20Coverage" alt="Coverage Status" class="img_ev3q"></a>
<a href="https://packagist.org/packages/unleash/client" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/packagist/dt/unleash/client.svg" alt="Download" class="img_ev3q"></a></p><p>A PHP implementation of the <a href="https://www.getunleash.io/" target="_blank" rel="noopener noreferrer">Unleash protocol</a>
aka <a href="https://docs.gitlab.com/ee/operations/feature_flags.html" target="_blank" rel="noopener noreferrer">Feature Flags</a> in GitLab.</p><p>You may also be interested in the <a href="https://github.com/Unleash/unleash-client-symfony" target="_blank" rel="noopener noreferrer">Symfony Bundle</a> for this package.</p><blockquote><p>Unleash allows you to gradually release your app&#x27;s feature before doing a full release based on multiple strategies
like releasing to only specific users or releasing to a percentage of your user base. Read more in the above linked
documentations.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p><code>composer require unleash/client</code></p><p>Requires PHP 7.2 or newer.</p><blockquote><p>You will also need some implementation of <a href="https://packagist.org/providers/psr/http-client-implementation" target="_blank" rel="noopener noreferrer">PSR-18</a>
and <a href="https://packagist.org/providers/psr/http-factory-implementation" target="_blank" rel="noopener noreferrer">PSR-17</a>, for example
<a href="https://packagist.org/packages/guzzlehttp/guzzle" target="_blank" rel="noopener noreferrer">Guzzle</a>
and <a href="https://packagist.org/providers/psr/simple-cache-implementation" target="_blank" rel="noopener noreferrer">PSR-16</a>, for example
<a href="https://packagist.org/packages/symfony/cache" target="_blank" rel="noopener noreferrer">Symfony Cache</a>.
Example:</p></blockquote><p><code>composer require unleash/client guzzlehttp/guzzle symfony/cache</code></p><p>or</p><p><code>composer require unleash/client symfony/http-client nyholm/psr7 symfony/cache</code></p><p>If you want to make use of events you also need to install <code>symfony/event-dispatcher</code>.
See <a href="https://github.com/Unleash/unleash-client-php/blob/main/doc/events.md" target="_blank" rel="noopener noreferrer">event documentation here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a class="hash-link" href="#usage" title="Direct link to heading">​</a></h2><p>The basic usage is getting the <code>Unleash</code> object and checking for a feature:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature-name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// do something</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can (and in some cases you must) also provide a context object. If the feature doesn&#x27;t exist on the server
you will get <code>false</code> from <code>isEnabled()</code>, but you can change the default value to <code>true</code>.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php argument-name">currentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-user-id-from-app&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php argument-name">ipAddress</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;127.0.0.1&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// will be populated automatically from $_SERVER if needed</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    sessionId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;sess-123456&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// will be populated automatically via session_id() if needed</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// or using pre php 8 style:</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">setCurrentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-user-id-from-app&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">setIpAddress</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;127.0.0.1&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">setSessionId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;sess-123456&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// do something</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// changing the default value for non-existent features</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;nonexistent-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">true</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// do something</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="builder">Builder<a class="hash-link" href="#builder" title="Direct link to heading">​</a></h3><p>The builder contains many configuration options, and it&#x27;s advised to always use the builder to construct an Unleash
instance. The builder is immutable.</p><p>The builder object can be created using the <code>create()</code> static method or by using its constructor:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// both are the same</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="required-parameters">Required parameters<a class="hash-link" href="#required-parameters" title="Direct link to heading">​</a></h4><p>The app name, instance id and app url are required as per the specification.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you&#x27;re using Unleash v4 you also need to specify authorization key (API key), you can do so with custom header.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHeader</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Authorization&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;my-api-key&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To filter feature toggles by tag or name prefix you can use the <code>Url</code> helper:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Helper</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Url</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Url</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php argument-name">namePrefix</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;somePrefix.&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php argument-name">tags</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;myTag&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;myValue&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optional-parameters">Optional parameters<a class="hash-link" href="#optional-parameters" title="Direct link to heading">​</a></h4><p>Some optional parameters can be set, these include:</p><ul><li>http client implementation (<a href="https://packagist.org/providers/psr/http-client-implementation" target="_blank" rel="noopener noreferrer">PSR-18</a>)</li><li>request factory implementation (<a href="https://packagist.org/providers/psr/http-factory-implementation" target="_blank" rel="noopener noreferrer">PSR-17</a>)</li><li>cache implementation (<a href="https://packagist.org/providers/psr/simple-cache-implementation" target="_blank" rel="noopener noreferrer">PSR-16</a>)</li><li>cache ttl</li><li>available strategies</li><li>http headers</li></ul><p>The builder will attempt to load http client and request factory implementations automatically. Most implementations,
such as <a href="https://packagist.org/packages/guzzlehttp/guzzle" target="_blank" rel="noopener noreferrer">guzzlehttp/guzzle</a> or
<a href="https://packagist.org/packages/symfony/http-client" target="_blank" rel="noopener noreferrer">symfony/http-client</a> (in combination with
<a href="https://packagist.org/packages/nyholm/psr7" target="_blank" rel="noopener noreferrer">nyholm/psr7</a>), will be loaded automatically. If the builder is unable to
locate a http client or request factory implementation, you will need to provide some implementation on your own.</p><p>If you use <a href="https://packagist.org/packages/symfony/cache" target="_blank" rel="noopener noreferrer">symfony/cache</a> or
<a href="https://packagist.org/packages/cache/filesystem-adapter" target="_blank" rel="noopener noreferrer">cache/filesystem-adapter</a> as your cache implementation, the
cache handler will be created automatically, otherwise you need to provide some implementation on your own.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Cache</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Filesystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">FilesystemCachePool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">League</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Flysystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Local</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">League</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Flysystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Filesystem</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">GuzzleHttp</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">GuzzleHttp</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Psr7</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">HttpFactory</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Stickiness</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">MurmurHashCalculator</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DefaultStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">GradualRolloutStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">IpAddressStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UserIdStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Helper</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Url</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// as a string</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Url</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php argument-name">tags</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;myTag&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;myValue&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// or as Url instance</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// now the optional ones</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHttpClient</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Client</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withRequestFactory</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">HttpFactory</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FilesystemCachePool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// example with using cache/filesystem-adapter</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Filesystem</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Local</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">sys_get_temp_dir</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:rgb(247, 140, 108)">30</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// the second parameter is time to live in seconds</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheTimeToLive</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">60</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// you can also set the cache time to live separately</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// if you don&#x27;t add any strategies, by default all strategies are added</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withStrategies</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// this example includes all available strategies</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">DefaultStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">GradualRolloutStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">MurmurHashCalculator</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">IpAddressStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UserIdStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// add headers one by one, if you specify a header with the same name multiple times it will be replaced by the</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// latest value</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHeader</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;My-Custom-Header&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-value&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHeader</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some-Other-Header&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-other-value&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// you can specify multiple headers at the same time, be aware that this REPLACES all the headers</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHeaders</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Yet-Another-Header&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;and-another-value&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="caching">Caching<a class="hash-link" href="#caching" title="Direct link to heading">​</a></h2><p>It would be slow to perform a http request every time you check if a feature is enabled, especially in popular
apps. That&#x27;s why this library has built-in support for PSR-16 cache implementations.</p><p>If you don&#x27;t provide any implementation and default implementation exists, it&#x27;s used, otherwise you&#x27;ll get an exception.
You can also provide a TTL which defaults to 30 seconds for standard cache and 30 minutes for stale data cache.</p><blockquote><p>Stale data cache is used when http communication fails while fetching feature list from the server. In that case
the latest valid version is used until the TTL expires or server starts responding again. An event gets emitted
when this happens, for more information see <a href="https://github.com/Unleash/unleash-client-php/blob/main/doc/events.md" target="_blank" rel="noopener noreferrer">events documentation</a>.</p></blockquote><p>Cache implementations supported out of the box (meaning you don&#x27;t need to configure anything):</p><ul><li><a href="https://packagist.org/packages/symfony/cache" target="_blank" rel="noopener noreferrer">symfony/cache</a></li><li><a href="https://packagist.org/packages/cache/filesystem-adapter" target="_blank" rel="noopener noreferrer">cache/filesystem-adapter</a></li></ul><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Cache</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Filesystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">FilesystemCachePool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">League</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Flysystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Local</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">League</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Flysystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Filesystem</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FilesystemCachePool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// example with using cache/filesystem-adapter</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Filesystem</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Local</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">sys_get_temp_dir</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheTimeToLive</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">120</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withStaleTtl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">300</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// you can set the cache handler explicitly to null to revert back to autodetection</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant" style="color:rgb(130, 170, 255)">null</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can use a different cache implementation for standard item cache and for stale cache. If you don&#x27;t provide any
implementation for stale cache, the same instance as for standard cache is used.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Cache</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Filesystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">FilesystemCachePool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">League</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Flysystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Local</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">League</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Flysystem</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Filesystem</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Symfony</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Component</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Cache</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Psr16Cache</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Symfony</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Component</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Cache</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Adapter</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">ArrayAdapter</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FilesystemCachePool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// example with using cache/filesystem-adapter</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Filesystem</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Local</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">sys_get_temp_dir</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withStaleCacheHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Psr16Cache</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">ArrayAdapter</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheTimeToLive</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">120</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withStaleTtl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">300</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bootstrapping">Bootstrapping<a class="hash-link" href="#bootstrapping" title="Direct link to heading">​</a></h2><p>You can set a default response from the SDK in cases when for some reason contacting Unleash server fails.</p><p>By default, you can bootstrap using:</p><ul><li>json string</li><li>file (via path or instance of <code>SplFileInfo</code>)</li><li>URL address</li><li>custom <a href="https://www.php.net/manual/en/wrappers.php" target="_blank" rel="noopener noreferrer">stream wrapper</a> path</li><li><code>array</code></li><li>instances of <code>Traversable</code></li><li>instances of <code>JsonSerializable</code></li></ul><p>These correspond to bootstrap providers:</p><ul><li><code>JsonBootstrapProvider</code> (json string)</li><li><code>FileBootstrapProvider</code> (file, URL address, custom stream wrapper path)</li><li><code>JsonSerializableBootstrapProvider</code> (array, Traversable, JsonSerializable)</li><li><code>EmptyBootstrapProvider</code> (default provider that doesn&#x27;t provide any bootstrap)</li><li><code>CompoundBootstrapProvider</code> (can contain multiple bootstrap providers and tries them one by one)</li></ul><p>Examples of bootstraps:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapJson</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;{&quot;features&quot;: []}&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapFile</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;path/to/my/file.json&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapSplFile</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">SplFileInfo</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;path/to/my/file.json&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapUrl</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://example.com/unleash-bootstrap.json&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapStreamWrapper</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;s3://my-bucket/bootstrap.json&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// assuming you have a custom stream wrapper called &#x27;s3&#x27;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapArray</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;features&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;enabled&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">true</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;name&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;BootstrapDemo&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;description&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;project&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;default&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;stale&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;type&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;release&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;variants&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;strategies&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;name&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;default&#x27;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapTraversable</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">class</span><span class="token php language-php"> </span><span class="token php language-php class-name-definition class-name" style="color:rgb(255, 203, 107)">implements</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Iterator</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">current</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">mixed</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// todo implement method</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">next</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">void</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// todo implement method</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">key</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">mixed</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// todo implement method</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">valid</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">bool</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// todo implement method</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">rewind</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">void</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// todo implement method</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapJsonSerializable</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">class</span><span class="token php language-php"> </span><span class="token php language-php class-name-definition class-name" style="color:rgb(255, 203, 107)">implements</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonSerializable</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">jsonSerialize</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">array</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// TODO: Implement jsonSerialize() method.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// now assign them to the builder, note that each withBootstrap* method call overrides the bootstrap</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapJson</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapSplFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapStreamWrapper</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapArray</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapTraversable</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapJsonSerializable</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant" style="color:rgb(130, 170, 255)">null</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// empty bootstrap</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using bootstrap providers directly:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">EmptyBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">JsonBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">JsonSerializableBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// using variables defined in previous example, again each call overrides the last bootstrap provider</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapJson</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapSplFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapStreamWrapper</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonSerializableBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapArray</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonSerializableBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapTraversable</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonSerializableBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapJsonSerializable</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">EmptyBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// equivalent to -&gt;withBootstrap(null)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using multiple bootstrap providers:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">CompoundBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">JsonSerializableBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// using variables defined in first example</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$provider</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">CompoundBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">FileBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapFile</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonSerializableBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$bootstrapArray</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// All providers in compound bootstrap provider will be tried one by one in the order they were assigned until</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// at least one returns something.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// If no provider returns non-null value, the compound provider itself returns null.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// If an exception is thrown in any of the inner providers it&#x27;s ignored and next provider is tried.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// If an exception was thrown in any of the inner providers and no other provider returned any value, the exceptions</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// from inner providers are thrown using a CompoundException, you can get the exceptions by calling -&gt;getExceptions()</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// on it.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$provider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-bootstrap-provider">Custom bootstrap provider<a class="hash-link" href="#custom-bootstrap-provider" title="Direct link to heading">​</a></h3><p>Creating a custom bootstrap provider is very simple, just implement the <code>BootstrapProvider</code> interface and use your
class in the builder:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Bootstrap</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">BootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">final</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">class</span><span class="token php language-php"> </span><span class="token php language-php class-name-definition class-name" style="color:rgb(255, 203, 107)">MyBootstrapProvider</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">implements</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">BootstrapProvider</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">getBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">array</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">|</span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">JsonSerializable</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">|</span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Traversable</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">|</span><span class="token php language-php keyword type-declaration" style="font-style:italic">null</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// TODO: Implement getBootstrap() method.</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$builder</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">MyBootstrapProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="disabling-communication-with-unleash-server">Disabling communication with Unleash server<a class="hash-link" href="#disabling-communication-with-unleash-server" title="Direct link to heading">​</a></h3><p>It may be useful to disable communication with the Unleash server for local development and using a bootstrap instead.</p><p>Note that when you disable communication with Unleash and don&#x27;t provide a bootstrap, an exception will be thrown.</p><blockquote><p>Tip: Set the cache interval to 0 to always have a fresh bootstrap content.</p></blockquote><blockquote><p>The usually required parameters (app name, instance id, app url) are not required when communication is disabled.</p></blockquote><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withBootstrap</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;{}&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withFetchingEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// here we disable communication with Unleash server</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withCacheTimeToLive</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">0</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// disable the caching layer to always get a fresh bootstrap</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="strategies">Strategies<a class="hash-link" href="#strategies" title="Direct link to heading">​</a></h2><p>Unleash servers can use multiple strategies for enabling or disabling features. Which strategy gets used is defined
on the server. This implementation supports all v4 strategies.
<a href="https://docs.getunleash.io/user_guide/activation_strategy" target="_blank" rel="noopener noreferrer">More here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-strategy">Default strategy<a class="hash-link" href="#default-strategy" title="Direct link to heading">​</a></h3><p>This is the simplest of them and simply always returns true if the feature defines default as its chosen strategy
and doesn&#x27;t need any context parameters.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ip-address-strategy">IP address strategy<a class="hash-link" href="#ip-address-strategy" title="Direct link to heading">​</a></h3><p>Enables feature based on the IP address. Takes current user&#x27;s IP address from the context object. You can provide your
own IP address or use the default (<code>$_SERVER[&#x27;REMOTE_ADDR&#x27;]</code>). Providing your own is especially useful if you&#x27;re behind
proxy and thus <code>REMOTE_ADDR</code> would return your proxy server&#x27;s IP address instead.</p><blockquote><p>As of 1.4.0 the CIDR notation is supported</p></blockquote><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// without context, using the auto detected IP</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$enabled</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// with context</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">ipAddress</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$_SERVER</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// or pre php 8 style</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">setIpAddress</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$_SERVER</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$enabled</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-id-strategy">User ID strategy<a class="hash-link" href="#user-id-strategy" title="Direct link to heading">​</a></h3><p>Enables feature based on the user ID. The user ID can be any string. You must always provide your own user id via
context.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">currentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-user-id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$enabled</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gradual-rollout-strategy">Gradual rollout strategy<a class="hash-link" href="#gradual-rollout-strategy" title="Direct link to heading">​</a></h3><p>Also known as flexible rollout. Allows you to enable feature for only a percentage of users based on their user id,
session id or randomly. The default is to try in this order: user id, session id, random.</p><p>If you specify the user id type on your Unleash server, you must also provide the user id via context, same as in the
User ID strategy. Session ID can also be provided via context, it defaults to the current session id via <code>session_id()</code>
call.</p><blockquote><p>This strategy requires a stickiness calculator that transforms the id (user, session or random) into a number between
1 and 100. You can provide your own or use the default \Unleash\Client\Stickiness\MurmurHashCalculator</p></blockquote><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// assume the feature uses the default type which means that it will default to either session id (if session is started)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// or randomly</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// still using the default strategy but this time with user id (which is the first to be used if present)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">currentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-user-id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// let&#x27;s start the session to ensure the session id is used</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php function" style="color:rgb(130, 170, 255)">session_start</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// or you can provide your own session id</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">sessionId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;sess-123456&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// assume the feature is set to use the user id, the first call returns false (no context given), the second</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// one returns true/false based on the user id</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">currentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-user-id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// the same goes for session, assume the session isn&#x27;t started yet and the feature is set to use the session type</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// returns false because no session is available</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">sessionId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-session-id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// works because you provided the session id manually</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php function" style="color:rgb(130, 170, 255)">session_start</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// works because the session is started</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// lastly you can force the feature to use the random type which always works</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hostname-strategy">Hostname strategy<a class="hash-link" href="#hostname-strategy" title="Direct link to heading">​</a></h3><p>This strategy allows you to match against a list of server hostnames (which are not the same as http hostnames).</p><p>If you don&#x27;t specify a hostname in context, it defaults to the current hostname using
<a href="https://www.php.net/gethostname" target="_blank" rel="noopener noreferrer"><code>gethostname()</code></a>.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// context with custom hostname</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">hostname</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;My-Cool-Hostname&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$enabled</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// without custom hostname, defaults to gethostname() result or null</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$enabled</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: This library also implements some deprecated strategies, namely <code>gradualRolloutRandom</code>, <code>gradualRolloutSessionId</code>
and <code>gradualRolloutUserId</code> which all alias to the Gradual rollout strategy.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="context-provider">Context provider<a class="hash-link" href="#context-provider" title="Direct link to heading">​</a></h3><p>Manually creating relevant context can get tiring real fast. Luckily you can create your own context provider that
will do it for you!</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">ContextProvider</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContextProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">final</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">class</span><span class="token php language-php"> </span><span class="token php language-php class-name-definition class-name" style="color:rgb(255, 203, 107)">MyContextProvider</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">implements</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContextProvider</span><span class="token php language-php"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">getContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php class-name return-type" style="color:rgb(255, 203, 107)">Context</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">setCurrentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;user id from my app&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">return</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php">     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// here we set the custom provider</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withContextProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">MyContextProvider</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;someFeature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// this call will use your context provider with the provided user id</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-strategies">Custom strategies<a class="hash-link" href="#custom-strategies" title="Direct link to heading">​</a></h3><p>To implement your own strategy you need to create a class implementing <code>StrategyHandler</code> (or <code>AbstractStrategyHandler</code>
which contains some useful methods). Then you need to instruct the builder to use your custom strategy.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">AbstractStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DTO</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DefaultStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">class</span><span class="token php language-php"> </span><span class="token php language-php class-name-definition class-name" style="color:rgb(255, 203, 107)">AprilFoolsStrategy</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">extends</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">AbstractStrategyHandler</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">__construct</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">private</span><span class="token php language-php"> </span><span class="token php language-php class-name type-declaration" style="color:rgb(255, 203, 107)">DefaultStrategyHandler</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$original</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">getStrategyName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">string</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">return</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;aprilFools&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php class-name type-declaration" style="color:rgb(255, 203, 107)">Strategy</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$strategy</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php class-name type-declaration" style="color:rgb(255, 203, 107)">Context</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword return-type" style="font-style:italic">bool</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$date</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">DateTimeImmutable</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword type-casting" style="font-style:italic">int</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$date</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">format</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;n&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">===</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:rgb(247, 140, 108)">4</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword type-casting" style="font-style:italic">int</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$date</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">format</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;j&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">===</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:rgb(247, 140, 108)">1</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php keyword" style="font-style:italic">return</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword type-casting" style="font-style:italic">bool</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php function" style="color:rgb(130, 170, 255)">random_int</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">0</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php number" style="color:rgb(247, 140, 108)">1</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">return</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$this</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php property">original</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$strategy</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$context</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you must instruct the builder to use your new strategy</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Strategy</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">IpAddressStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withStrategy</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">AprilFoolsStrategy</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// this will append your strategy to the existing list</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// if you want to replace all strategies, use withStrategies() instead</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withStrategies</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">AprilFoolsStrategy</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">IpAddressStrategyHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// now the unleash object will have only the two strategies</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="variants">Variants<a class="hash-link" href="#variants" title="Direct link to heading">​</a></h2><p>You can use multiple variants of one feature, for example for A/B testing. If no variant matches or the feature doesn&#x27;t
have any variants, a default one will be returned which returns <code>false</code> for <code>isEnabled()</code>. You can also provide your
own default variant.</p><p>Variant may or may not contain a payload.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DTO</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DefaultVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Configuration</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Enum</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">VariantPayloadType</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DTO</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">DefaultVariantPayload</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some app name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://some-app-url.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some instance id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;nonexistentFeature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php function" style="color:rgb(130, 170, 255)">assert</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">===</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// getVariant() does isEnabled() call in the background meaning that it will return the default falsy variant</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// whenever isEnabled() returns false</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;existingFeatureThatThisUserDoesNotHaveAccessTo&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php function" style="color:rgb(130, 170, 255)">assert</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">===</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;someFeature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">UnleashContext</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php argument-name">currentUserId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;123&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$payload</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getPayload</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$payload</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">!==</span><span class="token php language-php"> </span><span class="token php language-php constant" style="color:rgb(130, 170, 255)">null</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">if</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$payload</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getType</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">===</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">VariantPayloadType</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php constant" style="color:rgb(130, 170, 255)">JSON</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">            </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$jsonData</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$payload</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">fromJson</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$stringPayload</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$payload</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getValue</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// providing custom default variant</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;nonexistentFeature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php argument-name">fallbackVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">DefaultVariant</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;variantName&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php argument-name">enabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">true</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php argument-name">payload</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">DefaultVariantPayload</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">VariantPayloadType</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php keyword type-declaration" style="font-style:italic">STRING</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;somePayload&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php function" style="color:rgb(130, 170, 255)">assert</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$variant</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getPayload</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">getValue</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">===</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;somePayload&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-registration">Client registration<a class="hash-link" href="#client-registration" title="Direct link to heading">​</a></h2><p>By default, the library automatically registers itself as an application in the Unleash server. If you want to prevent
this, use <code>withAutomaticRegistrationEnabled(false)</code> in the builder.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some App Name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://somewhere.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-instance-id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAutomaticRegistrationEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// event though the client will not attempt to register, you can still use isEnabled()</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;someFeature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// if you want to register manually</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">register</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// you can call the register method multiple times, the Unleash server doesn&#x27;t mind</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">register</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">register</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics">Metrics<a class="hash-link" href="#metrics" title="Direct link to heading">​</a></h2><p>By default, this library sends metrics which are simple statistics about whether user was granted access or not.</p><p>The metrics will be bundled and sent once the bundle created time crosses the configured threshold.
By default this threshold is 30,000 milliseconds (30 seconds) meaning that when a new bundle gets created it won&#x27;t be
sent sooner than in 30 seconds. That doesn&#x27;t mean it&#x27;s guaranteed that the metrics will be sent every 30 seconds, it
only guarantees that the metrics won&#x27;t be sent sooner.</p><p>Example:</p><ol><li>user visits your site and this sdk gets triggered, no metric has been sent</li><li>after five seconds user visits another page where again this sdk gets triggered, no metric sent</li><li>user waits one minute before doing anything, no one else is accessing your site</li><li>after one minute user visits another page, the metrics have been sent to the Unleash server</li></ol><p>In the example above the metric bundle gets sent after 1 minute and 5 seconds because there was no one to trigger
the code.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some App Name&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://somewhere.com&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-instance-id&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withMetricsEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// turn off metric sending</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withMetricsEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">true</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// turn on metric sending</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withMetricsInterval</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">10_000</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// interval in milliseconds (10 seconds)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// the metric will be collected but not sent immediately</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;test&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php function" style="color:rgb(130, 170, 255)">sleep</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php number" style="color:rgb(247, 140, 108)">10</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// now the metrics will get sent</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;test&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-headers-via-middleware">Custom headers via middleware<a class="hash-link" href="#custom-headers-via-middleware" title="Direct link to heading">​</a></h2><p>While middlewares for http client are not natively supported by this SDK, you can pass your own http client which
supports them.</p><p>The most popular http client, guzzle, supports them out of the box and here&#x27;s an example of how to pass custom headers
automatically (for more information visit <a href="https://docs.guzzlephp.org/en/stable/handlers-and-middleware.html" target="_blank" rel="noopener noreferrer">official guzzle documentation on middlewares</a>):</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">GuzzleHttp</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">GuzzleHttp</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Handler</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">CurlHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">GuzzleHttp</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">HandlerStack</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">GuzzleHttp</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Middleware</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Psr</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Http</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Message</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">RequestInterface</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// any callable is valid, it may be a function reference, anonymous function or an invokable class</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// example invokable class</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">final</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">class</span><span class="token php language-php"> </span><span class="token php language-php class-name-definition class-name" style="color:rgb(255, 203, 107)">AddHeaderMiddleware</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">__construct</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">private</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">readonly</span><span class="token php language-php"> </span><span class="token php language-php keyword type-declaration" style="font-style:italic">string</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$headerName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">private</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">readonly</span><span class="token php language-php"> </span><span class="token php language-php keyword type-declaration" style="font-style:italic">string</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$value</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php keyword" style="font-style:italic">public</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">function</span><span class="token php language-php"> </span><span class="token php language-php function-definition function" style="color:rgb(130, 170, 255)">__invoke</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php class-name type-declaration" style="color:rgb(255, 203, 107)">RequestInterface</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$request</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token php language-php"> </span><span class="token php language-php class-name return-type" style="color:rgb(255, 203, 107)">RequestInterface</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php keyword" style="font-style:italic">return</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$request</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHeader</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$this</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php property">headerName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$this</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php property">value</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// example anonymous function</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$addHeaderMiddleware</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">fn</span><span class="token php language-php"> </span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword type-hint" style="font-style:italic">string</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$headerName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php keyword type-hint" style="font-style:italic">string</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$headerValue</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">fn</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php class-name type-declaration" style="color:rgb(255, 203, 107)">RequestInterface</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$request</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">        </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$request</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHeader</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$headerName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$headerValue</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// create a handler stack that holds information about all middlewares</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$stack</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">HandlerStack</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">CurlHandler</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// mapRequest is a helper that simplifies modifying request</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$stack</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">push</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">Middleware</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">mapRequest</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">AddHeaderMiddleware</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;X-My-Header&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some-Value&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// or with lambda</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$stack</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">push</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">Middleware</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">mapRequest</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$addHeaderMiddleware</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;X-My-Header2&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token php language-php"> </span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Some-Value&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// assign the stack with middlewares as a handler</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$httpClient</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php keyword" style="font-style:italic">new</span><span class="token php language-php"> </span><span class="token php language-php class-name" style="color:rgb(255, 203, 107)">Client</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;handler&#x27;</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token php language-php"> </span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$stack</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withHttpClient</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$httpClient</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// assign the custom http client</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppName</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;My-App&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;My-Instance&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;http://localhost:4242&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// now every http request will have X-My-Header header with value Some-Value</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$unleash</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">isEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;some-feature&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="constraints">Constraints<a class="hash-link" href="#constraints" title="Direct link to heading">​</a></h2><p>Constraints are supported by this SDK and will be handled correctly by <code>Unleash::isEnabled()</code> if present.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitlab-specifics">GitLab specifics<a class="hash-link" href="#gitlab-specifics" title="Direct link to heading">​</a></h2><ul><li>In GitLab you have to use the provided instance id, you cannot create your own.</li><li>No authorization header is necessary.</li><li>Instead of app name you need to specify the GitLab environment.<ul><li>For this purpose you can use <code>withGitlabEnvironment()</code> method in builder, it&#x27;s an alias to <code>withAppName()</code> but
communicates the intent better.</li></ul></li><li>GitLab doesn&#x27;t use registration system, you can set the SDK to disable automatic registration and save one http call.</li><li>GitLab doesn&#x27;t read metrics, you can set the SDK to disable sending them and save some http calls.</li></ul><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token php language-php delimiter important">&lt;?php</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php keyword" style="font-style:italic">use</span><span class="token php language-php"> </span><span class="token php language-php package">Unleash</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">Client</span><span class="token php language-php package punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token php language-php package">UnleashBuilder</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$gitlabUnleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">createForGitlab</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;H9sU9yVHVAiWFiLsH2Mo&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"> </span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// generated in GitLab</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://git.example.com/api/v4/feature_flags/unleash/1&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withGitlabEnvironment</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Production&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php comment" style="color:rgb(105, 112, 152);font-style:italic">// the above is equivalent to</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php"></span><span class="token php language-php variable" style="color:rgb(191, 199, 213)">$gitlabUnleash</span><span class="token php language-php"> </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">=</span><span class="token php language-php"> </span><span class="token php language-php class-name static-context" style="color:rgb(255, 203, 107)">UnleashBuilder</span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">::</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">create</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withInstanceId</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;H9sU9yVHVAiWFiLsH2Mo&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAppUrl</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;https://git.example.com/api/v4/feature_flags/unleash/1&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withGitlabEnvironment</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php string single-quoted-string" style="color:rgb(195, 232, 141)">&#x27;Production&#x27;</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withAutomaticRegistrationEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">withMetricsEnabled</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php constant boolean" style="color:rgb(255, 88, 116)">false</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token php language-php">    </span><span class="token php language-php operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token php language-php function" style="color:rgb(130, 170, 255)">build</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token php language-php punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p>This content was generated on <time datetime="2023-03-15T00:14:54.027Z">15 March 2023 at 00:14:54 Coordinated Universal Time</time></p></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Unleash/unleash/edit/main/website/docs/generated/sdks/server-side/php.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/reference/sdks/node"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Node</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/reference/sdks/python"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Python</div></a></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#builder" class="table-of-contents__link toc-highlight">Builder</a></li></ul></li><li><a href="#caching" class="table-of-contents__link toc-highlight">Caching</a></li><li><a href="#bootstrapping" class="table-of-contents__link toc-highlight">Bootstrapping</a><ul><li><a href="#custom-bootstrap-provider" class="table-of-contents__link toc-highlight">Custom bootstrap provider</a></li><li><a href="#disabling-communication-with-unleash-server" class="table-of-contents__link toc-highlight">Disabling communication with Unleash server</a></li></ul></li><li><a href="#strategies" class="table-of-contents__link toc-highlight">Strategies</a><ul><li><a href="#default-strategy" class="table-of-contents__link toc-highlight">Default strategy</a></li><li><a href="#ip-address-strategy" class="table-of-contents__link toc-highlight">IP address strategy</a></li><li><a href="#user-id-strategy" class="table-of-contents__link toc-highlight">User ID strategy</a></li><li><a href="#gradual-rollout-strategy" class="table-of-contents__link toc-highlight">Gradual rollout strategy</a></li><li><a href="#hostname-strategy" class="table-of-contents__link toc-highlight">Hostname strategy</a></li><li><a href="#context-provider" class="table-of-contents__link toc-highlight">Context provider</a></li><li><a href="#custom-strategies" class="table-of-contents__link toc-highlight">Custom strategies</a></li></ul></li><li><a href="#variants" class="table-of-contents__link toc-highlight">Variants</a></li><li><a href="#client-registration" class="table-of-contents__link toc-highlight">Client registration</a></li><li><a href="#metrics" class="table-of-contents__link toc-highlight">Metrics</a></li><li><a href="#custom-headers-via-middleware" class="table-of-contents__link toc-highlight">Custom headers via middleware</a></li><li><a href="#constraints" class="table-of-contents__link toc-highlight">Constraints</a></li><li><a href="#gitlab-specifics" class="table-of-contents__link toc-highlight">GitLab specifics</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Docs</a></li><li class="footer__item"><a href="https://github.com/Unleash/unleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unleash on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/Unleash/projects/10" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://getunleash.zendesk.com/hc/en-gb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unleash help center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/unleash/unleash/discussions/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://slack.unleash.run/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/unleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/getunleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Unleash. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a5df81a9.js"></script>
<script src="/assets/js/main.a8fa6c48.js"></script>
</body>
</html>