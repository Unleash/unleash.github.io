<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference/strategy-constraints">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Strategy Constraints | Unleash</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.getunleash.io/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://docs.getunleash.io/img/logo.png"><meta data-rh="true" property="og:url" content="https://docs.getunleash.io/reference/strategy-constraints"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Strategy Constraints | Unleash"><meta data-rh="true" name="description" content="Before Unleash 4.16, strategy constraints were only available to Unleash Pro and Enterprise users. From 4.16 onwards, they&#x27;re available to everyone."><meta data-rh="true" property="og:description" content="Before Unleash 4.16, strategy constraints were only available to Unleash Pro and Enterprise users. From 4.16 onwards, they&#x27;re available to everyone."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.getunleash.io/reference/strategy-constraints"><link data-rh="true" rel="alternate" href="https://docs.getunleash.io/reference/strategy-constraints" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.getunleash.io/reference/strategy-constraints" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5U05JI5NE1-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-134882379-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-KV5PRR2",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Unleash" href="/opensearch.xml">






<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="1d187510-1726-4011-b0f7-62742ae064ee" data-project-name="Unleash" data-project-color="#1A4049" data-project-logo="https://cdn.getunleash.io/uploads/2022/05/logo.png" async></script><link rel="stylesheet" href="/assets/css/styles.a9c5028c.css">
<link rel="preload" href="/assets/js/runtime~main.2f5498f7.js" as="script">
<link rel="preload" href="/assets/js/main.ba4e0222.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KV5PRR2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Unleash</b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.getunleash.io/plans" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Unleash Enterprise<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Unleash/unleash" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Unleash GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">About the docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/tutorials">First steps and tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;First steps and tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/unleash-overview">Unleash introductory overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/important-concepts">Important Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/quickstart">Quickstart</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/topics">Topic guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Topic guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/the-anatomy-of-unleash">The Anatomy of Unleash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/a-b-testing">A/B and multivariate testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/managing-constraints">Managing constraints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/proxy-hosting">Proxy hosting strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/topics/data-collection">Data collection</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/how-to">How-to guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/api">Unleash API guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash API guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/proxy">Unleash Proxy guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash Proxy guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/misc">Feature toggles, strategies, context</a><button aria-label="Toggle the collapsible sidebar category &#x27;Feature toggles, strategies, context&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/env">Environments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Environments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/users-and-permissions">Users and permissions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Users and permissions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/how-to/sso">Single Sign-On (SSO)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Single Sign-On (SSO)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/reference">Reference documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/addons">Addons</a><button aria-label="Toggle the collapsible sidebar category &#x27;Addons&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/api/legacy/unleash">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/sdks">Application SDKs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Application SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/deploy">Deploy and manage Unleash</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy and manage Unleash&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/reference/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/reference/concepts">Unleash concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unleash concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/activation-strategies">Activation Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/api-tokens-and-client-keys">API tokens and client keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/archived-toggles">Archived toggles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/event-log">The event log</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/impression-data">Impression data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/custom-activation-strategies">Custom Activation Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/environments">Environments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/feature-toggles">Feature Toggles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/feature-toggle-types">Feature Toggle Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/feature-toggle-variants">Feature Toggle Variants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/front-end-api">Front-end API access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/login-history">Login history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/maintenance-mode">Maintenance Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/network-view">Network view</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/notifications">Notifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/playground">The Playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/public-signup">Public Invite Links</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/projects">Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/project-collaboration-mode">Project collaboration mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/rbac">Role-based Access control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/segments">Segments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/service-accounts">Service accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/sso">Single Sign-On</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/stickiness">Stickiness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference/strategy-constraints">Strategy Constraints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/tags">Tags</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/technical-debt">Technical Debt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unleash-context">Unleash Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/change-requests">Change requests</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unleash-edge">Unleash Edge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/unleash-proxy">Unleash Proxy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/developer-guide">Developer contribution docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer contribution docs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/reference"><span itemprop="name">Reference documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/reference/concepts"><span itemprop="name">Unleash concepts</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Strategy Constraints</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Strategy Constraints</h1></header><div class="row"><div class="col col--12"><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Availability</div><div class="admonitionContent_S0QG"><p>Before Unleash 4.16, strategy constraints were only available to Unleash Pro and Enterprise users. From 4.16 onwards, they&#x27;re <strong>available to everyone</strong>.</p><p>Unleash 4.9 introduced a more comprehensive set of constraint operators. These require that both Unleash <em>and</em> your client SDK of choice support them. See the <a href="/reference/sdks#strategy-constraints">SDK compatibility table</a> for more information. Prior to Unleash 4.9, the only available operators were <code>IN</code> and <code>NOT_IN</code>.</p></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>undefined behavior</div><div class="admonitionContent_S0QG"><p>When using <em>advanced strategy constraints</em> (any operator that isn&#x27;t <code>IN</code> or <code>NOT_IN</code>), <em>make sure your client SDK is up to date</em> and supports this feature. For older versions of the client SDKs we <strong>cannot guarantee</strong> any specific behavior. Please see the <a href="#incompatibilities">incompatibilities section</a> for more information.</p></div></div><p><strong>Strategy constraints</strong> are conditions that must be satisfied for an <a href="/reference/activation-strategies">activation strategy</a> to be evaluated for a feature toggle.
With strategy constraints, you can:</p><ul><li>roll out a feature <strong>only to users in a specific region</strong></li><li>schedule a feature to be <strong>released at a specific time</strong></li><li>make a feature available for <strong>a limited time only</strong></li><li>release a feature to users with one of a set of <strong>email addresses</strong></li><li>... and much more!</li></ul><p>Strategy constraints use fields from the <a href="/reference/unleash-context">Unleash Context</a> to determine whether a strategy should apply or not.
You can constrain both on <a href="/reference/unleash-context#structure">standard context fields</a> and on <a href="/reference/unleash-context#custom-context-fields">custom context fields</a>.</p><p>This page explains what strategy constraints are in Unleash and how they work. If you want to know <em>how you add</em> strategy constraints to an activation strategy, see <a title="how to add strategy constraints" href="/how-to/how-to-add-strategy-constraints">the corresponding how-to guide</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="constraining-on-custom-context-fields">Constraining on custom context fields<a href="#constraining-on-custom-context-fields" class="hash-link" aria-label="Direct link to Constraining on custom context fields" title="Direct link to Constraining on custom context fields">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Making custom context fields available</div><div class="admonitionContent_S0QG"><p>To be able to constrain on a field, it must be listed under the Context Field menu. If a field isn&#x27;t listed, you can add it yourself. See <a href="/how-to/how-to-define-custom-context-fields">the how-to guide for creating your own custom fields</a> for more info.</p></div></div><p>Unleash only provides a limited set of context fields by default, and they may not fulfill all your needs.
By using <a href="/reference/unleash-context#custom-context-fields">custom context fields</a>, you can tailor strategy constraints to your specific use case, such as:</p><ul><li>based on tenant IDs, release a feature to only specific tenants in a multi-tenant setup</li><li>release a feature to users in a specific region</li><li>release a feature only to beta testers</li></ul><p>You can also combine strategy constraints with the <a href="/reference/activation-strategies#gradual-rollout">gradual rollout strategy</a> to do a gradual rollout to a <strong>specific segment</strong> of your user base.</p><p><img loading="lazy" alt="A toggle with the gradual rollout strategy. The toggle is constrained on the custom content field &amp;quot;region&amp;quot; and set to only activate if the region is Africa or Europe." src="/assets/images/strategy-constraints-7d0a96c1341a1492e3fdd701ec9bf2bb.png" width="1366" height="1272" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-structure">Constraint structure<a href="#constraint-structure" class="hash-link" aria-label="Direct link to Constraint structure" title="Direct link to Constraint structure">​</a></h2><p>Each strategy constraint has three parts:</p><ul><li>a <strong>context field</strong>: The context field to use for evaluation.</li><li>an <strong>operator</strong>: One of the <a href="#strategy-constraint-operators">operators listed below</a>.</li><li>a <strong>value</strong>/<strong>list of values</strong>: A value or list of values to use in the evaluation of the constraint.</li></ul><p>These parts turn the strategy constraint into an expression that evaluates to either <code>true</code> or <code>false</code>.</p><p>To clarify, here&#x27;s a few example strategy constraints and what they do:</p><table><thead><tr><th>Context field</th><th>Operator</th><th>Value(s)</th><th>Description</th></tr></thead><tbody><tr><td><code>userId</code></td><td><code>STR_ENDS_WITH</code></td><td><code>@example.com, @mycompany.com</code></td><td>Evaluates to <code>true</code> for users whose user IDs end with <code>@example.com</code> or <code>@mycompany.com</code>.</td></tr><tr><td><code>currentTime</code></td><td><code>DATE_AFTER</code></td><td><code>2022-06-05 21:43:22Z</code></td><td>Evaluates to <code>true</code> if the current time is after <code>2022-06-05 21:43:22Z</code>.</td></tr><tr><td><code>userScore</code><sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></td><td><code>NUM_GTE</code></td><td><code>1000</code></td><td>Evaluates to <code>true</code> if the <a href="/reference/unleash-context#custom-context-fields">custom context field</a> <code>userScore</code> has a value of <code>1000</code> or higher.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="strategy-constraint-operators">Strategy constraint operators<a href="#strategy-constraint-operators" class="hash-link" aria-label="Direct link to Strategy constraint operators" title="Direct link to Strategy constraint operators">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Placeholder context field</div><div class="admonitionContent_S0QG"><p>In this section, <code>&lt;context-field&gt;</code> is used as a placeholder for an arbitrary context field. With the exception of the <code>currentTime</code> field, you can use any context field in its place.</p></div></div><p>Unleash currently supports 15 different constraint operators.
The operators can be grouped into four different categories based on their method of comparison.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-negation">Constraint negation / inversion<a href="#constraint-negation" class="hash-link" aria-label="Direct link to Constraint negation / inversion" title="Direct link to Constraint negation / inversion">​</a></h3><p>All constraint expressions can be <strong>negated</strong>, meaning that they get their opposite value. Constraints are evaluated to either <code>true</code> or <code>false</code>. Negating a constraint would turn a <code>true</code> value into a <code>false</code> and a <code>false</code> value into a <code>true</code> value.</p><p>For instance, using the numeric equivalence operator <code>NUM_EQ</code>, the following truth table shows the how value negation affects the result:</p><table><thead><tr><th>Expression</th><th>Value</th><th>Negated</th></tr></thead><tbody><tr><td>4 <code>NUM_EQ</code> 4</td><td><code>true</code></td><td><code>false</code></td></tr><tr><td>4 <code>NUM_EQ</code> 5</td><td><code>false</code></td><td><code>true</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="numeric-operators">Numeric operators<a href="#numeric-operators" class="hash-link" aria-label="Direct link to Numeric operators" title="Direct link to Numeric operators">​</a></h3><p>Numeric operators compare the numeric values of context fields with your provided value.</p><p>Numeric operators only accept single values.</p><table><thead><tr><th>Name</th><th><code>true</code> if <code>&lt;context-field&gt;</code> is ...</th></tr></thead><tbody><tr><td><code>NUM_EQ</code></td><td><strong>equal</strong> to the provided value; the mathematical <code>=</code> operator</td></tr><tr><td><code>NUM_GT</code></td><td><strong>strictly greater than</strong> the provided value; the mathematical <code>&gt;</code> operator</td></tr><tr><td><code>NUM_GTE</code></td><td><strong>greater than or equal to</strong> the provided value; the mathematical <code>⩾</code> operator</td></tr><tr><td><code>NUM_LT</code></td><td><strong>strictly less than</strong> the provided value; the mathematical <code>&lt;</code> operator</td></tr><tr><td><code>NUM_LTE</code></td><td><strong>less than or equal to</strong> the provided value; the mathematical <code>⩽</code> operator</td></tr></tbody></table><p>You can read more about <a href="https://en.wikipedia.org/wiki/Equality_(mathematics)" target="_blank" rel="noopener noreferrer" title="Mathematical equality at Wikipedia">numeric equality</a> or <a href="https://en.wikipedia.org/wiki/Inequality_(mathematics)" target="_blank" rel="noopener noreferrer">numeric inequality operators at Wikipedia</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date-and-time-operators">Date and time operators<a href="#date-and-time-operators" class="hash-link" aria-label="Direct link to Date and time operators" title="Direct link to Date and time operators">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><mdxadmonitiontitle><code>currentTime</code> and date and time operators</mdxadmonitiontitle></div><div class="admonitionContent_S0QG"><p>The date and time operators are <strong>only available on the <code>currentTime</code></strong> context field. Furthermore, the <code>currentTime</code> context field <strong>can not be used</strong> with any of the other operators.</p></div></div><p>With the date and time operators, you can enable a feature before and/or after a specified time.
The operators compare the <a href="/reference/unleash-context">Unleash context&#x27;s</a> <code>currentTime</code> property against the provided value.</p><p>You can create a <strong>time span</strong> by combining the two constraint operators using two different constraints on the same strategy.
In that case the strategy will be evaluated from <code>DATE_AFTER</code> and until <code>DATE_BEFORE</code>.</p><p>Date and time operators only support single values.</p><table><thead><tr><th>Name</th><th><code>true</code> if <code>currentTime</code> is ...</th></tr></thead><tbody><tr><td><code>DATE_AFTER</code></td><td><strong>after</strong> the provided date</td></tr><tr><td><code>DATE_BEFORE</code></td><td><strong>before</strong> the provided date</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-operators">String operators<a href="#string-operators" class="hash-link" aria-label="Direct link to String operators" title="Direct link to String operators">​</a></h3><p>String operators differ from the other categories in two different ways:</p><ul><li>all operators accept multiple values</li><li>most operators also consider <a href="https://en.wikipedia.org/wiki/Letter_case" target="_blank" rel="noopener noreferrer" title="letter case on Wikipedia">letter case</a> and can be set to be case-sensitive or case-insensitive</li></ul><table><thead><tr><th>Name</th><th><code>true</code> if <code>&lt;context-field&gt;</code> ...</th><th>Supports case-insensitivity</th><th>Available since</th></tr></thead><tbody><tr><td><code>IN</code></td><td>is <strong>equal</strong> to any of the provided values</td><td>No</td><td>v3.3</td></tr><tr><td><code>NOT_IN</code></td><td>is <strong>not equal</strong> to any of the provided values</td><td>No</td><td>v3.3</td></tr><tr><td><code>STR_CONTAINS</code></td><td><strong>contains</strong> any of the provided strings</td><td>Yes</td><td>v4.9</td></tr><tr><td><code>STR_ENDS_WITH</code></td><td><strong>ends</strong> with any of the provided strings</td><td>Yes</td><td>v4.9</td></tr><tr><td><code>STR_STARTS_WITH</code></td><td><strong>starts</strong> with any of the provided strings</td><td>Yes</td><td>v4.9</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="versioning-semver-operators">Versioning (SemVer) operators<a href="#versioning-semver-operators" class="hash-link" aria-label="Direct link to Versioning (SemVer) operators" title="Direct link to Versioning (SemVer) operators">​</a></h3><p>The SemVer operators are used to compare version numbers such as application versions, dependency versions, etc.</p><p>The SemVer input must follow a few rules:</p><ul><li>The value you enter <strong>must</strong> start with and contain at least major, minor, and patch versions: Example: <code>1.2.3</code></li><li>Optionally, you can also add pre-release version information by adding a hyphen and series of dot separated identifiers after the patch version. Example: <code>1.2.3-rc.2</code></li></ul><p>Versions with pre-release indicators (e.g. <code>4.8.0-rc.2</code>) are considered <em>less than</em> versions without (e.g. <code>4.8.0</code>) in accordance with <a href="https://semver.org/#spec-item-11" target="_blank" rel="noopener noreferrer">the SemVer specification, item 11</a>.</p><p>You can read more about SemVer in <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">the full SemVer specification</a>.</p><p>SemVer operators only support single values.</p><table><thead><tr><th>Name</th><th><code>true</code> if <code>&lt;context-field&gt;</code> is ...</th></tr></thead><tbody><tr><td><code>SEMVER_EQ</code></td><td><strong>equal</strong> to the provided value</td></tr><tr><td><code>SEMVER_GT</code></td><td><strong>strictly greater than</strong> the provided value</td></tr><tr><td><code>SEMVER_LT</code></td><td><strong>strictly less than</strong> the provided value</td></tr></tbody></table><p>Additionally, you can use negation to get <em>less than or equal to</em> and <em>greater than or equal to</em> functionality:</p><table><thead><tr><th>Effect</th><th>How</th><th><code>true</code> if <code>&lt;context-field&gt;</code> is ...</th></tr></thead><tbody><tr><td>Greater than or equal to</td><td>Negate <code>SEMVER_LT</code></td><td><strong>greater than or equal to</strong> the provided value</td></tr><tr><td>Less than or equal to</td><td>Negate <code>SEMVER_GT</code></td><td><strong>less than or equal to</strong> the provided value</td></tr></tbody></table><p>&quot;Not less than 2.0.0&quot; <em>is the same as</em> &quot;greater than or equal to 2.0.0&quot;. The same applies for <em>less than or equal</em>: &quot;Not greater than 1.9.5.&quot; <em>is the same as</em> &quot;less than or equal to 1.9.5&quot;.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sdks">Interacting with strategy constraints in the client SDKs<a href="#sdks" class="hash-link" aria-label="Direct link to Interacting with strategy constraints in the client SDKs" title="Direct link to Interacting with strategy constraints in the client SDKs">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This section gives a brief overview over to use the client SDKs to interact with strategy constraints. The exact steps will vary depending on which client you are using, so make sure to consult the documentation for your specific client SDK.</p></div></div><p>Strategy constraints require <a href="/reference/unleash-context">the Unleash Context</a> to work. All official <a href="/reference/sdks">Unleash client SDKs</a> support the option to pass <a title="Unleash Context, section: structure" href="/reference/unleash-context#structure">dynamic context values</a> to the <code>isEnabled</code> function (or the SDK&#x27;s equivalent).</p><p>If the strategy constraint uses a <a href="/reference/unleash-context#structure"><strong>standard Unleash Context field</strong></a>, set the context field to the value you wish to give it.</p><p>If the strategy constraint uses a <a href="/reference/unleash-context#custom-context-fields"><strong>custom context field</strong></a>, use the Unleash Context&#x27;s <code>properties</code> field. Use the name of the custom context field as a key and set the value to your desired string.</p><p>If you set a context field to a value that the SDKs cannot parse correctly for a chosen constraint operator, the strategy constraint will evaluate to false.
In other words: if you have a strategy constraint operator that expects a number, such as <code>NUM_GT</code>, but you set the corresponding context field to a string value, then the expression will be false: <code>&quot;some string&quot;</code> is <strong>not</strong> greater than <code>5</code>.
This value can still be negated as explained in <a href="#constraint-negation">the section on negating values</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Constraint limitations (or &quot;how many user IDs can I add to a constraint&quot;)<a href="#limitations" class="hash-link" aria-label="Direct link to Constraint limitations (or &quot;how many user IDs can I add to a constraint&quot;)" title="Direct link to Constraint limitations (or &quot;how many user IDs can I add to a constraint&quot;)">​</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Explored the content in this subsection in more depth in <a href="/topics/managing-constraints">the topic guide on using Unleash with large constraints</a>.</p></div></div><p>When using a constraint operator that accepts a list of values, it might be tempting to add a large number of values to that list. However, we advise you <strong>not</strong> to do that: Unleash is not a database, and is not intended to store large amounts of data. Instead you should try and find a different way to achieve what you want.</p><p>For instance, instead of adding hundreds of user ids to the constraint value list, think about what properties those users share. Are they beta testers? Are they premium members? Are they employees?</p><p>Can you map their common feature into an <a href="/reference/unleash-context">Unleash context</a> property instead and set the constraint on that? If they&#x27;re beta testers, how about using a <code>betaTester</code> property? And likewise, for premium members, you could check to see if their <code>membership</code> is <code>premium</code>? And if they&#x27;re employees, maybe you&#x27;re better off checking whether their user ID ends with <code>@yourcompany.tld</code>?</p><p>The <strong>reason</strong> why you should try and keep value lists small has to do with Unleash&#x27;s evaluation model: Because Unleash&#x27;s server-side SDKs fetch the full feature toggle configuration from Unleash, every value that you add to that constraint value list will increase the payload size. For small numbers, this isn&#x27;t an issue, but as the list grows, so will the payload, and so will the time and processing power used by the SDK to evaluate the feature.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="incompatibilities">Incompatibilities and undefined behavior<a href="#incompatibilities" class="hash-link" aria-label="Direct link to Incompatibilities and undefined behavior" title="Direct link to Incompatibilities and undefined behavior">​</a></h2><p>It&#x27;s important that you use an up-to-date client SDK if you&#x27;re using the advanced constraint operators introduced in Unleash 4.9. If your client SDK does not support the new operators, we cannot guarantee how it&#x27;ll react. As a result, you may see different behavior across applications.</p><p>If you use the new constraints with old SDKs, here&#x27;s how it&#x27;ll affect <em>some</em> of the SDKs (the list is not exhaustive):</p><ul><li>The Node.js and Go client SDKs will ignore the new constraints completely: the constraints will not affect the toggle&#x27;s status.</li><li>The Python client SDK will evaluate the toggle to false, as it cannot evaluate the constraint successfully.</li><li>The .NET, Ruby, and PHP SDKs raise exceptions if the provided operator is not <code>IN</code> or <code>NOT_IN</code>.</li></ul><p>Please inspect the <a href="/reference/sdks#strategy-constraints">SDK compatibility table to see which version of your preferred SDK introduced support for this feature</a>.</p><p>After Unleash 4.9, we updated the <a href="https://github.com/Unleash/client-specification" target="_blank" rel="noopener noreferrer">Unleash client specification</a>. Going forward, any constraint that a client does not recognize, <strong>must be evaluated as <code>false</code></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="constrain-on-a-specific-environment">[Deprecated]<!-- -->: Constrain on a specific environment<a href="#constrain-on-a-specific-environment" class="hash-link" aria-label="Direct link to constrain-on-a-specific-environment" title="Direct link to constrain-on-a-specific-environment">​</a></h2><p>Before Unleash 4.3, using strategy constraints was the recommended way to have different toggle configurations per environment. Now that Unleash has environment support built in, we no longer recommend you use strategy constraints for this. Instead, see the <a href="/reference/environments">environments documentation</a>.</p><div class="footnotes"><hr><ol><li id="fn-1"><code>userScore</code> is not a default Unleash field, but can be added as a <a href="/reference/unleash-context#custom-context-fields">custom context field</a>.<a href="#fnref-1" class="footnote-backref">↩</a></li></ol></div></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Unleash/unleash/edit/main/website/docs/reference/strategy-constraints.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/reference/stickiness"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Stickiness</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/reference/tags"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tags</div></a></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#constraining-on-custom-context-fields" class="table-of-contents__link toc-highlight">Constraining on custom context fields</a></li><li><a href="#constraint-structure" class="table-of-contents__link toc-highlight">Constraint structure</a></li><li><a href="#strategy-constraint-operators" class="table-of-contents__link toc-highlight">Strategy constraint operators</a><ul><li><a href="#constraint-negation" class="table-of-contents__link toc-highlight">Constraint negation / inversion</a></li><li><a href="#numeric-operators" class="table-of-contents__link toc-highlight">Numeric operators</a></li><li><a href="#date-and-time-operators" class="table-of-contents__link toc-highlight">Date and time operators</a></li><li><a href="#string-operators" class="table-of-contents__link toc-highlight">String operators</a></li><li><a href="#versioning-semver-operators" class="table-of-contents__link toc-highlight">Versioning (SemVer) operators</a></li></ul></li><li><a href="#sdks" class="table-of-contents__link toc-highlight">Interacting with strategy constraints in the client SDKs</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Constraint limitations (or &quot;how many user IDs can I add to a constraint&quot;)</a></li><li><a href="#incompatibilities" class="table-of-contents__link toc-highlight">Incompatibilities and undefined behavior</a></li><li><a href="#constrain-on-a-specific-environment" class="table-of-contents__link toc-highlight">Deprecated: Constrain on a specific environment</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Docs</a></li><li class="footer__item"><a href="https://github.com/Unleash/unleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unleash on GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/Unleash/projects/10" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://getunleash.zendesk.com/hc/en-gb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unleash help center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/unleash/unleash/discussions/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://slack.unleash.run/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/unleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/getunleash" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/logo.svg" alt="Unleash logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Unleash. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f5498f7.js"></script>
<script src="/assets/js/main.ba4e0222.js"></script>
</body>
</html>